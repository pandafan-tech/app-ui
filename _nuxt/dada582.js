(window.webpackJsonp=window.webpackJsonp||[]).push([[33,8,9,21,22,23,24,25,26,27],{1129:function(c,v,e){var a=e(1135);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("78a5912f",a,!0,{sourceMap:!1})},1130:function(c,v,e){"use strict";e.r(v);var a=function(){var n=this,f=n.$createElement,l=n._self._c||f;return l("div",{directives:[{name:"loading",rawName:"v-loading",value:n.updating,expression:"updating"}],staticClass:"updatebilling-container"},[l("el-row",{attrs:{gutter:10}},[n.showHead?l("el-col",{attrs:{span:24}},[l("center",[l("h5",[l("i",{staticClass:"el-icon-question"}),l("span",[n._v(n._s(n.$t("update_billing.sub.a")))])])])],1):n._e(),l("el-form",{attrs:{"label-position":"right","label-width":"80px",model:n.newbilling},nativeOn:{submit:function(m){return m.preventDefault(),n.onSubmit.apply(null,arguments)}}},[l("el-col",{attrs:{span:12}},[l("p",[n._v(n._s(n.$t("update_billing.form.firstname"))+n._s(n.personalNameRequired))]),l("el-input",{attrs:{type:"text",placeholder:n.$t("update_billing.form.firstname")},model:{value:n.newbilling.firstname,callback:function(m){n.$set(n.newbilling,"firstname",m)},expression:"newbilling.firstname"}})],1),l("el-col",{attrs:{span:12}},[l("p",[n._v(n._s(n.$t("update_billing.form.lastname"))+n._s(n.personalNameRequired))]),l("el-input",{attrs:{type:"text",placeholder:n.$t("update_billing.form.lastname")},model:{value:n.newbilling.lastname,callback:function(m){n.$set(n.newbilling,"lastname",m)},expression:"newbilling.lastname"}})],1),l("el-col",{attrs:{span:24}},[l("p",[n._v(n._s(n.$t("update_billing.form.addr")))]),l("el-input",{attrs:{type:"text",placeholder:n.$t("update_billing.form.addr")},model:{value:n.newbilling.addr,callback:function(m){n.$set(n.newbilling,"addr",m)},expression:"newbilling.addr"}})],1),l("el-col",{attrs:{span:12}},[l("p",[n._v(n._s(n.$t("update_billing.form.city")))]),l("el-input",{attrs:{type:"text",placeholder:n.$t("update_billing.form.city")},model:{value:n.newbilling.city,callback:function(m){n.$set(n.newbilling,"city",m)},expression:"newbilling.city"}})],1),l("el-col",{attrs:{span:12}},[l("p",[n._v(n._s(n.$t("update_billing.form.state")))]),l("el-input",{attrs:{type:"text",placeholder:n.$t("update_billing.form.state")},model:{value:n.newbilling.state,callback:function(m){n.$set(n.newbilling,"state",m)},expression:"newbilling.state"}})],1),l("el-col",{attrs:{span:12}},[l("p",[n._v(n._s(n.$t("update_billing.form.zip")))]),l("el-input",{attrs:{type:"text",placeholder:n.$t("update_billing.form.zip")},model:{value:n.newbilling.zip,callback:function(m){n.$set(n.newbilling,"zip",m)},expression:"newbilling.zip"}})],1),l("el-col",{attrs:{span:12}},[l("p",[n._v(n._s(n.$t("update_billing.form.country")))]),l("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:n.$t("update_billing.form.country")},model:{value:n.newbilling.country,callback:function(m){n.$set(n.newbilling,"country",m)},expression:"newbilling.country"}},n._l(n.countryList,function(m){return l("el-option",{key:m,attrs:{label:m,value:m}})}),1)],1),n.newbilling.company_name||n.inputCompanyInfo?l("div",[l("el-col",{attrs:{span:24}},[l("p",[n._v(n._s(n.$t("update_billing.form.company_name"))+"*")]),l("el-input",{attrs:{type:"text",placeholder:n.$t("update_billing.form.company_name")},model:{value:n.newbilling.company_name,callback:function(m){n.$set(n.newbilling,"company_name",m)},expression:"newbilling.company_name"}})],1),l("el-col",{attrs:{span:24}},[l("p",[n._v(n._s(n.$t("update_billing.form.company_vat")))]),l("el-input",{attrs:{type:"text",placeholder:n.$t("update_billing.form.company_vat")},model:{value:n.newbilling.company_vat,callback:function(m){n.$set(n.newbilling,"company_vat",m)},expression:"newbilling.company_vat"}})],1)],1):n._e()],1)],1),n.vatRate?l("div",{staticClass:"eu-hint"},[l("h5",{staticClass:"warning"},[n._v(n._s(n.$t("billing.eu_hint")))])]):n._e(),l("el-button",{staticClass:"full-width save-button",attrs:{type:"success",size:"small"},on:{click:function(m){return n.updateBilling()}}},[n._v(n._s(n.$t("update_billing.save")))]),l("br"),l("el-row",{attrs:{justify:"space-between",align:"middle"}},[l("el-col",{attrs:{span:12,align:"start"}},[n.inputCompanyInfo||n.newbilling.company_name?n._e():l("el-link",{staticClass:"success",attrs:{plain:"",type:"success"},on:{click:function(m){n.inputCompanyInfo=!0}}},[n._v(n._s(n.$t("billing.input_company_info")))])],1),n.showDelete?l("el-col",{attrs:{span:12,align:"end"}},[l("el-link",{staticClass:"warning",attrs:{type:"warning"},on:{click:function(m){return n.delBilling()}}},[n._v(n._s(n.$t("update_billing.del")))])],1):n._e()],1),l("el-row",{staticClass:"explain"},[l("h5",[n._v("- "+n._s(n.$t("update_billing.sub.a")))]),l("h5",[n._v("- "+n._s(n.$t("update_billing.sub.b")))]),l("h5",[n._v("- "+n._s(n.$t("update_billing.sub.d")))]),l("br"),l("h5",[n._v(n._s(n.$t("update_billing.sub.e")))])])],1)},u=[],$=e(62),D=e(40),B=e(27),k=e(39),T=e(74),L=e(6),R=e(14),t=e(23),y=e(9),p=e(206),M=e(18),z=e(63),U=e(75),F=e(207),g=e(1133);function S(n,f){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(n);f&&(m=m.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),l.push.apply(l,m)}return l}function O(n){for(var f=1;f<arguments.length;f++){var l=arguments[f]!=null?arguments[f]:{};f%2?S(Object(l),!0).forEach(function(m){Object(M.a)(n,m,l[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):S(Object(l)).forEach(function(m){Object.defineProperty(n,m,Object.getOwnPropertyDescriptor(l,m))})}return n}var N={middleware:["load-rt-data","authenticated"],props:{showHead:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},saved:{type:Function,default:null}},data:function(){return{newbilling:{firstname:"",lastname:"",addr:"",city:"",state:"",zip:"",country:"China",company_name:"",company_vat:""},euList:F,countryList:g,updating:!1,inputCompanyInfo:!1}},computed:{personalNameRequired:function(){return this.inputCompanyInfo?"":"*"},vatReverseCharge:function(){return!!(this.newbilling.company_vat&&this.newbilling.country!=="Netherlands")},vatRate:function(){var f=0;return this.euList.includes(this.newbilling.country)&&(f=.21,this.vatReverseCharge&&(f=0)),f}},mounted:function(){var f;if(document.addEventListener("keydown",this.escHandler,!1),(f=this.$store.state.user.billing)!==null&&f!==void 0&&f.country){console.log("Init billing address as user's billing.",this.user.billing);for(var l=O({},this.$store.state.user.billing),m=0,_=Object.entries(l);m<_.length;m++){var C=Object(R.a)(_[m],2),I=C[0],G=C[1];l[I]=unescape(G.trim())}this.newbilling=l,this.newbilling.country||(console.log("setting default country to China"),this.newbilling.country="China")}},beforeDestroy:function(){document.removeEventListener("keydown",this.escHandler)},methods:{updateBilling:function(){var f=this;return Object(L.a)(regeneratorRuntime.mark(function l(){var m,_,C,I,G,V,Z,K,Q,r;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:m=["firstname","lastname","country","addr","city"],_=0,C=m;case 2:if(!(_<C.length)){s.next=11;break}if(I=C[_],!(!f.newbilling[I]||!f.newbilling[I].trim())){s.next=8;break}if(!((G=f.newbilling.company_name)!==null&&G!==void 0&&G.trim()&&["firstname","lastname"].includes(I))){s.next=7;break}return s.abrupt("continue",8);case 7:return s.abrupt("return",f.$message({message:f.$t("update_billing.incomplete"),type:"warning"}));case 8:_++,s.next=2;break;case 11:if(f.countryList.includes(f.newbilling.country)){s.next=13;break}return s.abrupt("return",f.$message({message:"\u65E0\u6CD5\u8BC6\u522B\u7684\u56FD\u5BB6\u540D\u79F0\uFF0C\u8BF7\u91CD\u65B0\u9009\u62E9\u3002",type:"warning"}));case 13:return s.prev=13,f.updating=!0,s.next=17,f.$store.dispatch("updateBilling",O({},f.newbilling));case 17:V=s.sent,console.log("ret:",V),f.$notify({title:f.$t("update_billing.saved"),type:"success"}),f.updating=!1,f.saved&&f.saved(),s.next=29;break;case 24:s.prev=24,s.t0=s.catch(13),console.log("failed:",(Z=s.t0.response)===null||Z===void 0||(K=Z.data)===null||K===void 0?void 0:K.message),f.$notify({title:f.$t("update_billing.save_failed"),message:f.$t("billing.".concat((Q=s.t0.response)===null||Q===void 0||(r=Q.data)===null||r===void 0?void 0:r.message)),type:"error"}),f.updating=!1;case 29:case"end":return s.stop()}},l,null,[[13,24]])}))()},delBilling:function(){var f=this;this.$confirm(this.$t("warning.confirm_delete"),this.$t("warning.title"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("service_selector.cancel"),type:"warning"}).then(function(){f.updating=!0,f.$store.dispatch("updateBilling",{}).then(function(){f.$notify({title:f.$t("update_billing.deleted"),type:"success"}),f.newbilling={}}).catch(function(l){var m,_;f.$notify({title:f.$t("update_billing.delete_error"),message:f.$t("billing.".concat((m=l.response)===null||m===void 0||(_=m.data)===null||_===void 0?void 0:_.message)),type:"error"})}).finally(function(){f.updating=!1})}).catch(function(){})}}},W=N,Y=e(1134),x=e(51),i=Object(x.a)(W,a,u,!1,null,null,null),h=v.default=i.exports},1131:function(c,v,e){var a=e(1143);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("c5990654",a,!0,{sourceMap:!1})},1132:function(c,v,e){var a=e(1145);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("7ab33336",a,!0,{sourceMap:!1})},1133:function(c){c.exports=JSON.parse(`["Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Cameroon","Canada","Cape Verde","Cayman Islands","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Cook Islands","Costa Rica","C\xF4te d'Ivoire, Republic of","Croatia","Cura\xE7ao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Falkland Islands (Islas Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern and Antarctic Lands","Gabon","Gambia, The","Georgia","Germany","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Republic of","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, Republic of","Madagascar","Malawi","Malaysia","Maldives","Malta","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova","Monaco","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Palau","Papua New Guinea","Paraguay","Peru","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","R\xE9union","Romania","Russian Federation","Rwanda","Saint Barth\xE9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","South Africa","South Georgia and South Sandwich Islands","Spain","Sri Lanka","Suriname","Swaziland","Sweden","Switzerland","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Vietnam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Zambia"]`)},1134:function(c,v,e){"use strict";var a=e(1129),u=e.n(a)},1135:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".updatebilling-container{position:relative}.updatebilling-container p{margin-top:.5rem!important;font-weight:700!important}.updatebilling-container .el-input{padding-left:0!important;width:100%!important;margin-top:.1rem!important}.updatebilling-container .el-input input{text-align:left!important;border:1px solid #95a5a6;padding:.2rem!important;color:#4d4d4d;font-size:1rem!important}.updatebilling-container .el-input input:focus,.updatebilling-container .el-input input:hover{border-color:#1abc9c}.updatebilling-container .el-card{margin-bottom:.6rem;background:#34495e;border:none}.updatebilling-container .el-card .subtitle{color:#f4f7fc;font-weight:500}.updatebilling-container .el-card.set-item .el-icon-arrow-down{transform:rotate(0deg);transition:transform .15s linear}.updatebilling-container .el-card.set-item .el-icon-arrow-down.open{transform:rotate(-180deg);transition:transform .15s linear}.updatebilling-container .el-card.set-item a i{padding-top:.3rem}.updatebilling-container .el-card.set-item a h2{color:#bdc3c7;margin-bottom:.1rem}.updatebilling-container .el-card.set-item .el-radio:not(.is-checked) .el-radio__label{color:#bdc3c7}.updatebilling-container .el-card__body{padding:1rem}.updatebilling-container .save-button{margin-bottom:1rem;margin-top:1rem;padding:1rem .5rem;font-size:1.1rem}.updatebilling-container .dashboard-link{position:fixed;right:.5rem;bottom:.5rem}.updatebilling-container .explain{margin-top:1rem}.updatebilling-container .el-link--success .el-link--inner{color:var(--logo-green)!important}.updatebilling-container .el-link--warning .el-link--inner{color:var(--warning-yellow)!important}.updatebilling-container .eu-hint{padding-top:1rem;text-align:right}",""]),c.exports=u},1142:function(c,v,e){"use strict";var a=e(1131),u=e.n(a)},1143:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".billingModal[data-v-32c06148]{z-index:9999}",""]),c.exports=u},1144:function(c,v,e){"use strict";var a=e(1132),u=e.n(a)},1145:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".billingModal .el-dialog__body{padding:15px;padding-top:0!important}.billingModal .el-dialog{padding-top:1.5rem!important}",""]),c.exports=u},1150:function(c,v,e){"use strict";e.d(v,"a",function(){return k});var a=e(142);function u(T){if(Array.isArray(T))return Object(a.a)(T)}var $=e(208),D=e(108);function B(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(T){return u(T)||Object($.a)(T)||Object(D.a)(T)||B()}},1151:function(c,v,e){"use strict";e.r(v);var a=function(){var t=this,y=t.$createElement,p=t._self._c||y;return p("el-dialog",{staticClass:"serviceCateSelector billingModal",attrs:{title:t.$t("billing.modal.title"),visible:t.modalVisible,center:"",width:"100%","append-to-body":!0,fullscreen:!0,"close-on-press-escape":!1,"show-close":!0},on:{close:t.updateParentSwitchVal}},[p("Billing",{attrs:{showDelete:t.showDelete,showHead:t.showHead,saved:t.updateParentSwitchVal}})],1)},u=[],$={name:"ServiceSelector",props:{modalVisible:{type:Boolean,default:!1},callback:{type:Function,default:null},showHead:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0}},watch:{modalVisible:function(y,p){console.log(y,p)}},beforeDestroy:function(){this.updateParentSwitchVal()},methods:{updateParentSwitchVal:function(){this.callback&&this.callback(),this.$emit("update:modalVisible",!1)},sendReturn:function(y){this.callback(y),this.updateParentSwitchVal()}}},D=$,B=e(1142),k=e(1144),T=e(51),L=Object(T.a)(D,a,u,!1,null,"32c06148",null),R=v.default=L.exports;installComponents(L,{Billing:e(1130).default})},1153:function(c,v,e){var a=e(1192);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("59a07c57",a,!0,{sourceMap:!1})},1154:function(c,v,e){var a=e(1196);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("c1a608c2",a,!0,{sourceMap:!1})},1155:function(c,v,e){var a=e(1198);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("042a2b44",a,!0,{sourceMap:!1})},1156:function(c,v,e){var a=e(1200);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("724433a5",a,!0,{sourceMap:!1})},1157:function(c,v,e){var a=e(1202);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("2fe740fd",a,!0,{sourceMap:!1})},1158:function(c,v,e){var a=e(1204);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("3eb93276",a,!0,{sourceMap:!1})},1159:function(c,v,e){c.exports=e.p+"img/visa.afe70d8.svg"},1160:function(c,v){c.exports="data:image/svg+xml;base64,PHN2ZwogIGhlaWdodD0iMTYiCiAgdmlld0JveD0iMCAwIDI0IDE2IgogIHdpZHRoPSIyNCIKICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCj4KICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgPHJlY3QgZmlsbD0iIzI1MjUyNSIgaGVpZ2h0PSIxNiIgcng9IjIiIHdpZHRoPSIyNCIgLz4KICAgIDxjaXJjbGUgY3g9IjkiIGN5PSI4IiBmaWxsPSIjZWIwMDFiIiByPSI1IiAvPgogICAgPGNpcmNsZSBjeD0iMTUiIGN5PSI4IiBmaWxsPSIjZjc5ZTFiIiByPSI1IiAvPgogICAgPHBhdGgKICAgICAgZD0ibTEyIDMuOTk5NjMzODFjMS4yMTQ0NDY3LjkxMjIwNjMzIDIgMi4zNjQ1NDgzNiAyIDQuMDAwMzY2MTlzLS43ODU1NTMzIDMuMDg4MTU5OS0yIDQuMDAwMzY2MmMtMS4yMTQ0NDY3LS45MTIyMDYzLTItMi4zNjQ1NDgzNy0yLTQuMDAwMzY2MnMuNzg1NTUzMy0zLjA4ODE1OTg2IDItNC4wMDAzNjYxOXoiCiAgICAgIGZpbGw9IiNmZjVmMDAiCiAgICAvPgogIDwvZz4KPC9zdmc+Cg=="},1161:function(c,v,e){c.exports=e.p+"img/amex.a71fb7c.svg"},1162:function(c,v,e){var a=e(1209);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("06740a9a",a,!0,{sourceMap:!1})},1163:function(c,v,e){var a=e(1215);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("19cdec4f",a,!0,{sourceMap:!1})},1164:function(c,v,e){var a=e(1217);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("25e44ffa",a,!0,{sourceMap:!1})},1165:function(c,v,e){var a=e(1219);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("48d419b1",a,!0,{sourceMap:!1})},1191:function(c,v,e){"use strict";var a=e(1153),u=e.n(a)},1192:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".top-up[data-v-c47b9d38],.top-up input[data-v-c47b9d38]{text-align:center}.top-up input[data-v-c47b9d38]{font-size:2rem;border:none;border-bottom:1px solid var(--secondary-color);border-radius:0;background:transparent;color:var(--primary-color);width:120px}@media (max-width:768px){.top-up input[data-v-c47b9d38]{width:120px}}",""]),c.exports=u},1193:function(c,v,e){c.exports=e.p+"img/Youku_logo.0836930.svg"},1194:function(c,v){c.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xNDcgLTE3My4zIDQ3MCA0OTIuMyIgd2lkdGg9IjIzMTciIGhlaWdodD0iMjUwMCIgeG1sbnM6dj0iaHR0cHM6Ly92ZWN0YS5pby9uYW5vIj48bGluZWFyR3JhZGllbnQgaWQ9IkEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iODgiIHgyPSI4OCIgeTE9IjMxOSIgeTI9Ii0xNTEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZiYmUwYSIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZlZGEyNCIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iODgiIGN5PSI4NCIgZmlsbD0idXJsKCNBKSIgcj0iMjM1Ii8+PHBhdGggZD0iTTEyMy44IDEwNGwtMTcuMS0yMy44TDQyLTkuMS44LTY1LjZDLTMuNC03MS4yLTMuOS03Ny4xLTItODMuNWMzLjktMTMuMyAxMy4yLTIyLjUgMjQuMi0zMC4xIDIwLjEtMTMuOSA0Mi44LTIxIDY2LjYtMjUuMiAyMC43LTMuNiA0MS4yLTggNTkuMy0xOS40IDQuOS0zLjEgOS03LjMgMTMuNS0xMSAxLjItMSAyLjMtMi4xIDQuNi00LjEgMS41IDcuMyAzIDEzLjQgNCAxOS41IDMgMTggMS45IDM1LjUtNi4yIDUyLjEtMTEgMjIuNC0yOSAzNi40LTUyLjYgNDMuNkM5Ny01My41IDgyLjEtNTIuNCA2Ny01Mi41Yy0xLjEgMC0yLjIuMy00LjEuNWwxMC42IDE4LjUgNDMuNCA3MS4yIDQ3LjQgNzguNiAxMi40IDIwLjVjOS4zIDE2IDE2LjEgMzIuNyAxNC44IDUxLjktMS4zIDE4LjgtOC4xIDM1LjItMTkuOCA0OS42LTE5LjEgMjMuNS00My45IDM3LjEtNzMuNSA0Mi40LTI3LjkgNC45LTU0LjUgMS44LTc5LjItMTIuMy0yNy44LTE1LjgtNDUuNi00NC41LTQxLjQtNzguNyAyLjctMjIuNSAxMy45LTQxLjEgMzAuNC01Ni40IDE3LjYtMTYuMiAzOC41LTI2LjEgNjEuOC0zMC42IDE3LjItMy40IDM0LjQtMy4yIDUxLjQgMS40LjUuMSAxLjEtLjEgMi42LS4xeiIgZmlsbD0iIzBkYWY1MiIvPjwvc3ZnPg=="},1195:function(c,v,e){"use strict";var a=e(1154),u=e.n(a)},1196:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".site-icons img[data-v-3574acc6],.site-icons svg[data-v-3574acc6]{margin:.25rem;height:1.2rem;width:auto}#netease[data-v-3574acc6]{color:#e60026}#netease path[data-v-3574acc6]{fill:#e60026}h2[data-v-3574acc6]{font-size:26px;line-height:32px;display:block;margin:0 auto .5rem}@media (max-width:768px){h2[data-v-3574acc6]{font-size:28px;line-height:34px}}h3.detail[data-v-3574acc6]{color:var(--secondary-color);font-weight:500;font-size:1rem;margin-bottom:.5rem}.el-tag.top-right[data-v-3574acc6]{position:absolute;right:20px;top:20px;font-size:11px;border-radius:15px;color:var(--black)}.cate-option .el-card[data-v-3574acc6]{width:100%;position:relative;margin-bottom:1rem}",""]),c.exports=u},1197:function(c,v,e){"use strict";var a=e(1155),u=e.n(a)},1198:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".discount-warning[data-v-01d2d394]{margin-top:.5rem;text-align:left}.discount-warning p[data-v-01d2d394]{font-size:.8rem;color:var(--secondary-color)}",""]),c.exports=u},1199:function(c,v,e){"use strict";var a=e(1156),u=e.n(a)},1200:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".select-time{padding-bottom:2rem}@media screen and (max-width:768px){.select-time .time-option h3{font-size:.8rem}.select-time .time-option .el-card__body{padding:20px 3px}}",""]),c.exports=u},1201:function(c,v,e){"use strict";var a=e(1157),u=e.n(a)},1202:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,'.subheader[data-v-511922c1],b[data-v-511922c1],span[data-v-511922c1]{color:var(--primary-color)}.price-table[data-v-511922c1]{max-width:100%}.price-table .el-tag[data-v-511922c1]{position:absolute;right:20px;top:20px;font-size:11px;border-radius:15px;color:var(--black)}.price-table .el-button[data-v-511922c1],.price-table .el-link[data-v-511922c1]{margin-top:20px;padding:10px 50px;font-size:20px}.price-table .el-col[data-v-511922c1]{display:flex;justify-content:flex-end;justify-items:end}@media (min-width:768px){.price-table .el-col[data-v-511922c1]:first-of-type{transform:scale(1.01);margin-right:1rem}}.price-table .el-card[data-v-511922c1]{width:100%;position:relative}@media screen and (max-width:768px){.price-table .el-card[data-v-511922c1]{margin-bottom:1rem}}.price-table h2[data-v-511922c1]{font-size:1.5rem}.price-table .pricetag *[data-v-511922c1]{text-align:center}.price-table .pricetag h1[data-v-511922c1]{margin-top:1.3rem;font-size:2.5rem}.price-table .pricetag h1 small[data-v-511922c1]{font-size:1rem;font-weight:400;color:var(--secondary-color);margin:0 5px}.price-table .content[data-v-511922c1]{width:320px;margin:.5rem auto;text-align:left}.price-table .content h5[data-v-511922c1]{padding-left:20px;font-weight:500;font-size:14px;width:100%;position:relative;display:block;margin:10px 0}.price-table .content h5[data-v-511922c1],.price-table .content h5 span[data-v-511922c1]{color:var(--secondary-color)}.price-table .content h5[data-v-511922c1]:before{content:"\\e6da";font-family:"element-icons"!important;position:absolute;left:0;top:0}.price-table .content h5.plus[data-v-511922c1]:before{content:"\\e79c";font-family:"element-icons"!important;position:absolute;left:0;top:0}.hints[data-v-511922c1]{margin-top:1rem;margin-bottom:2rem}',""]),c.exports=u},1203:function(c,v,e){"use strict";var a=e(1158),u=e.n(a)},1204:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".extra-premium input[data-v-d3b460f6]{font-size:26px;margin:0 10px;text-align:center;padding:10px 0;width:100px;border:none;background:transparent;color:var(--primary-color);border-bottom:.5px solid var(--secondary-color)}.extra-premium input[data-v-d3b460f6]::focus{border:none}.extra-premium .explain[data-v-d3b460f6]{text-align:left}.extra-premium .explain ul li[data-v-d3b460f6]{color:var(--secondary-color)}@media (max-width:768px){.extra-premium h2[data-v-d3b460f6]{font-size:20px!important}.extra-premium input[data-v-d3b460f6]{font-szie:20px!important}}.purchase-input[data-v-d3b460f6]{display:flex;align-items:center;justify-content:center}.purchase-input input[data-v-d3b460f6]{display:flex}.hint-for-basic[data-v-d3b460f6]{margin-bottom:2rem}.hint-for-basic h5[data-v-d3b460f6]{font-weight:400;color:var(--secondary-color)}b[data-v-d3b460f6]{color:var(--primary-color)}",""]),c.exports=u},1205:function(c,v,e){c.exports=e.p+"img/paypal.1e1cc37.svg"},1206:function(c,v,e){c.exports=e.p+"img/unionpay.35b08be.svg"},1207:function(c,v,e){c.exports=e.p+"img/UnionPay_LOGO.37b7286.png"},1208:function(c,v,e){"use strict";var a=e(1162),u=e.n(a)},1209:function(c,v,e){var a=e(1),u=e(88),$=e(1210),D=e(1211),B=e(1212),k=e(1213),T=a(!1),L=u($),R=u(D),t=u(B),y=u(k);T.push([c.i,'.payment-method .method.selected[data-v-677c4e0a]:after{display:none}.payment-method .el-card[data-v-677c4e0a]{padding:0;margin-bottom:.5rem;border-color:transparent}.payment-method .el-card h3[data-v-677c4e0a]{font-size:1.2rem;margin-top:.2rem;display:flex;align-items:center}.payment-method .el-card h3[data-v-677c4e0a]:before{display:inline-block;font-size:1.2rem;line-height:1.2rem;vertical-align:middle;font-family:"element-icons"!important;margin-right:.5rem}.payment-method .el-card[data-v-677c4e0a]:not(.selected){box-shadow:none!important}.payment-method .el-card:not(.selected) h3[data-v-677c4e0a]{color:var(--secondary-color);font-weight:500}.payment-method .el-card:not(.selected) h3[data-v-677c4e0a]:before{content:"\\25EF"}.payment-method .el-card.selected[data-v-677c4e0a]:after{content:none}.payment-method .el-card.selected h3[data-v-677c4e0a]{color:var(--logo-green)!important;font-weight:700}.payment-method .el-card.selected h3[data-v-677c4e0a]:before{color:var(--logo-green);content:"\\e720";font-family:"element-icons"!important;font-size:1.6rem}.payment-method .el-card[data-v-677c4e0a]:hover{box-shadow:var(--card-box-shadow)!important}.payment-method .el-row[data-v-677c4e0a]{border-bottom:1px solid #dcdfe6}.payment-method .el-row[data-v-677c4e0a]:last-of-type{border-bottom:none}.payment-method .el-row[data-v-677c4e0a]{align-items:left}.payment-method .el-row .content[data-v-677c4e0a]{width:100%;text-align:left;display:flex;align-items:center;justify-content:flex-end;flex-flow:row wrap}.payment-method .el-row .content h3[data-v-677c4e0a]{font-size:1.2rem}.payment-method .el-row .content .currency[data-v-677c4e0a]{position:absolute;right:0;color:var(--secondary-color);font-weight:100;font-size:12px}.payment-method .el-row .content .hints[data-v-677c4e0a]{vertical-align:middle;text-align:center;border:2px solid var(--nord-green);margin-top:.6rem;border-radius:1.625rem;box-shadow:var(--shadow-smallest);transition:all .1s ease-out}.payment-method .el-row .content .hints[data-v-677c4e0a]:hover{box-shadow:none;background-color:var(--nord-green)}.payment-method .el-row .content .hints:hover a[data-v-677c4e0a]{color:var(--white);font-weight:700}.payment-method .el-row .content .hints a[data-v-677c4e0a]{display:block;padding:.2rem 0;color:var(--primary-color);font-size:bold}.payment-method .el-row .content .logo[data-v-677c4e0a]{box-sizing:border-box;width:100%;height:40px;display:flex}.payment-method .el-row .content .logo div[data-v-677c4e0a]{height:40px}.payment-method .el-row .content .logo .card-logos[data-v-677c4e0a]{filter:none;width:30px;margin-right:5px;height:40px}.payment-method .el-row .content .logo .card-logos.paymentwall[data-v-677c4e0a],.payment-method .el-row .content .logo .card-logos.paypal[data-v-677c4e0a]{width:6rem}.payment-method .el-row .content .logo .card-logos.unionpay-logo[data-v-677c4e0a]{width:40px}.payment-method .el-row .content .logo i[data-v-677c4e0a]{width:58px;display:inline-block;background-size:contain;background-repeat:no-repeat;height:30px}.payment-method .el-row .content .logo i.alipay_mobile[data-v-677c4e0a],.payment-method .el-row .content .logo i.alipay_pc[data-v-677c4e0a],.payment-method .el-row .content .logo i.stripe_alipay[data-v-677c4e0a],.payment-method .el-row .content .logo i.yaband_alipay[data-v-677c4e0a]{background-image:url('+L+")}.payment-method .el-row .content .logo i.stripe_wechat[data-v-677c4e0a],.payment-method .el-row .content .logo i.yaband_wechat[data-v-677c4e0a]{background-image:url("+R+");width:78px;height:39px;margin-top:-10px;margin-left:-6px}.payment-method .el-row .content .logo i.stripe_card[data-v-677c4e0a]{width:74.2px;height:29.4px;margin-left:-5px}.payment-method .el-row .content .logo i.stripe_ideal[data-v-677c4e0a]{background-image:url("+t+");height:26.4px}.payment-method .el-row .content .logo i.paymentwall[data-v-677c4e0a]{height:23px}.payment-method .el-row .content .logo i.adyen_unionpay[data-v-677c4e0a]{background-image:url(https://checkoutshopper-live.adyen.com/checkoutshopper/images/logos/unionpay.svg);height:23px}.payment-method .more[data-v-677c4e0a]{margin-top:.5rem;text-align:center}.payment-method .more a[data-v-677c4e0a]{color:var(--secondary-color);display:block;margin-bottom:1rem}.payment-method .more a.warning[data-v-677c4e0a]{color:var(--primary-color)!important;font-weight:500}.payment-method .more a[data-v-677c4e0a]:hover{font-weight:700}.payment-method.dark .el-row .content .logo i.stripe_wechat[data-v-677c4e0a],.payment-method.dark .el-row .content .logo i.yaband_wechat[data-v-677c4e0a]{background-image:url("+y+")}.payment-method.dark .el-row .content .logo i.stripe_card[data-v-677c4e0a]{display:none}",""]),c.exports=T},1210:function(c,v,e){c.exports=e.p+"img/alipay.cbb107d.svg"},1211:function(c,v,e){c.exports=e.p+"img/wechat.b6c3d4f.svg"},1212:function(c,v,e){c.exports=e.p+"img/ideal.3298b6e.svg"},1213:function(c,v,e){c.exports=e.p+"img/wechat-light.bec6d92.svg"},1214:function(c,v,e){"use strict";var a=e(1163),u=e.n(a)},1215:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".payment-method .el-card__body{padding:.5rem 1rem;background-color:var(--midnight-blue)}",""]),c.exports=u},1216:function(c,v,e){"use strict";var a=e(1164),u=e.n(a)},1217:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".agreements[data-v-78459a07]{text-align:left}.agreements p[data-v-78459a07]{font-size:.8rem}.agree-all[data-v-78459a07]{text-align:center;margin-top:.6rem}.agree-all .el-link[data-v-78459a07]{font-size:1rem}",""]),c.exports=u},1218:function(c,v,e){"use strict";var a=e(1165),u=e.n(a)},1219:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,".agreements .el-checkbox__inner{width:.8rem;height:.8rem}",""]),c.exports=u},1257:function(c,v,e){var a=e(1311);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("4457e3da",a,!0,{sourceMap:!1})},1258:function(c,v,e){var a=e(1313);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[c.i,a,""]]),a.locals&&(c.exports=a.locals);var u=e(2).default,$=u("1b5c3377",a,!0,{sourceMap:!1})},1297:function(c,v,e){"use strict";e.r(v);var a=function(){var g=this,S=g.$createElement,O=g._self._c||S;return O("el-row",{attrs:{gutter:5,justify:"space-between",align:"middle",type:"flex"}},[O("el-col",{staticClass:"cate-option",attrs:{md:12}},[O("el-card",{staticClass:"select-mark",class:{selected:g.selectedCate==="allplatform"},attrs:{shadow:"hover"},nativeOn:{click:function(N){return g.selectCate("allplatform")}}},[O("h2",[g._v(g._s(g.$t("allplatform")))]),g.loggedIn&&g.serviceFound("allplatform")?O("el-tag",{staticClass:"hide-for-small top-right",class:[g.serviceFound("allplatform").content],attrs:{type:g.serviceFound("allplatform").type,size:"mini"}},[O("span",[g._v(g._s(g.$t(g.serviceFound("allplatform").content)))])]):g._e(),O("h3",{staticClass:"detail"},[g._v(g._s(g.$t("services.allplatform.desc")))]),O("h4",{staticClass:"site-icons"},[O("Twitter"),O("Facebook"),O("YouTube")],1),O("el-link",{staticClass:"choose",attrs:{type:"success",plain:""}},[g._v(g._s(g.$t("pricing.choose")))])],1)],1),O("el-col",{staticClass:"cate-option",attrs:{md:12}},[O("el-card",{staticClass:"select-mark",class:{selected:g.selectedCate==="home"},attrs:{shadow:"hover"},nativeOn:{click:function(N){return g.selectCate("home")}}},[O("h2",[g._v(g._s(g.$t("home")))]),g.loggedIn&&g.serviceFound("home")?O("el-tag",{staticClass:"hide-for-small top-right",class:[g.serviceFound("home").content],attrs:{type:g.serviceFound("home").type,size:"mini"}},[O("span",[g._v(g._s(g.$t(g.serviceFound("home").content)))])]):g._e(),O("h3",{staticClass:"detail"},[g._v(g._s(g.$t("services.home.desc")))]),O("h4",{staticClass:"site-icons"},[O("img",{staticClass:"youku",attrs:{src:e(1193),loading:"lazy"}}),O("Netease",{attrs:{id:"netease"}}),O("img",{staticClass:"qq-music",attrs:{src:e(1194),loading:"lazy"}})],1),O("el-link",{staticClass:"choose",attrs:{type:"success",plain:""}},[g._v(g._s(g.$t("pricing.choose")))])],1)],1)],1)},u=[],$=function(){var g=this,S=g.$createElement,O=g._self._c||S;return O("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 209"}},[O("path",{pre:!0,attrs:{d:"M256 25.45c-9.42 4.177-19.542 7-30.166 8.27c10.845-6.5 19.172-16.793 23.093-29.057a105.183 105.183 0 0 1-33.351 12.745C205.995 7.201 192.346.822 177.239.822c-29.006 0-52.523 23.516-52.523 52.52c0 4.117.465 8.125 1.36 11.97c-43.65-2.191-82.35-23.1-108.255-54.876c-4.52 7.757-7.11 16.78-7.11 26.404c0 18.222 9.273 34.297 23.365 43.716a52.312 52.312 0 0 1-23.79-6.57c-.003.22-.003.44-.003.661c0 25.447 18.104 46.675 42.13 51.5a52.592 52.592 0 0 1-23.718.9c6.683 20.866 26.08 36.05 49.062 36.475c-17.975 14.086-40.622 22.483-65.228 22.483c-4.24 0-8.42-.249-12.529-.734c23.243 14.902 50.85 23.597 80.51 23.597c96.607 0 149.434-80.031 149.434-149.435c0-2.278-.05-4.543-.152-6.795A106.748 106.748 0 0 0 256 25.45",fill:"#55acee"}})])},D={render:$,name:"logos-twitter"},B=function(){var g=this,S=g.$createElement,O=g._self._c||S;return O("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256"}},[O("path",{pre:!0,attrs:{d:"M241.871 256.001c7.802 0 14.129-6.326 14.129-14.129V14.129C256 6.325 249.673 0 241.871 0H14.129C6.324 0 0 6.325 0 14.129v227.743c0 7.803 6.324 14.129 14.129 14.129h227.742",fill:"#395185"}}),O("path",{pre:!0,attrs:{d:"M176.635 256.001v-99.137h33.277l4.982-38.635h-38.259V93.561c0-11.186 3.107-18.809 19.148-18.809l20.459-.009V40.188c-3.54-.471-15.684-1.523-29.812-1.523c-29.498 0-49.692 18.005-49.692 51.071v28.493h-33.362v38.635h33.362v99.137h39.897",fill:"#FFF"}})])},k={render:B,name:"logos-facebook"},T=function(){var g=this,S=g.$createElement,O=g._self._c||S;return O("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 180"}},[O("path",{pre:!0,attrs:{d:"M250.346 28.075A32.18 32.18 0 0 0 227.69 5.418C207.824 0 127.87 0 127.87 0S47.912.164 28.046 5.582A32.18 32.18 0 0 0 5.39 28.24c-6.009 35.298-8.34 89.084.165 122.97a32.18 32.18 0 0 0 22.656 22.657c19.866 5.418 99.822 5.418 99.822 5.418s79.955 0 99.82-5.418a32.18 32.18 0 0 0 22.657-22.657c6.338-35.348 8.291-89.1-.164-123.134z",fill:"red"}}),O("path",{pre:!0,attrs:{fill:"#FFF",d:"M102.42 128.06l66.329-38.418l-66.328-38.418z"}})])},L={render:T,name:"logos-youtube-icon"},R=function(){var g=this,S=g.$createElement,O=g._self._c||S;return O("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"}},[O("path",{pre:!0,attrs:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10zm-1.086-10.432c.24-.84 1.075-1.541 1.99-1.648c.187.694.388 1.373.545 2.063c.053.23.037.495-.018.727c-.213.892-1.248 1.242-1.978.685c-.53-.405-.742-1.12-.539-1.827zm3.817-.197c-.125-.465-.256-.927-.393-1.42c.5.13.908.36 1.255.698c1.257 1.221 1.385 3.3.294 4.731c-1.135 1.49-3.155 2.134-5.028 1.605c-2.302-.65-3.808-2.952-3.441-5.316c.274-1.768 1.27-3.004 2.9-3.733c.407-.182.58-.56.42-.93c-.157-.364-.54-.504-.944-.343c-2.721 1.089-4.32 4.134-3.67 6.987c.713 3.118 3.495 5.163 6.675 4.859c1.732-.165 3.164-.948 4.216-2.347c1.506-2.002 1.297-4.783-.463-6.499c-.666-.65-1.471-1.018-2.39-1.153c-.083-.013-.217-.052-.232-.106c-.087-.313-.18-.632-.206-.954c-.029-.357.29-.64.65-.645c.253-.003.434.13.603.3c.303.3.704.322.988.062c.29-.264.296-.678.018-1.008c-.566-.672-1.586-.891-2.43-.523c-.847.37-1.321 1.187-1.2 2.093c.038.28.11.557.167.842l-.26.072a3.863 3.863 0 0 0-2.098 1.414c-.921 1.22-.936 2.828-.041 3.947c1.274 1.594 3.747 1.284 4.523-.568c.284-.676.275-1.368.087-2.065z",fill:"currentColor"}})])},t={render:R,name:"ri-netease-cloud-music-fill"},y={name:"PricingPageCateOptions",components:{Twitter:D,Facebook:k,YouTube:L,Netease:t},props:{value:{type:String,default:"allplatform"}},data:function(){return{}},computed:{selectedCate:function(){return this.value},loggedIn:function(){return this.$store.state.session.loggedIn}},methods:{selectCate:function(S){this.$emit("input",S),console.log("new cate:",S),this.$scrollTo("#plan",this.$config.scrollTo.delay,{offset:-200})},serviceFound:function(S){var O=this.$store.state.service[S],N=O?O.status==="on"?"using":"been_used":"never",W={using:"success",been_used:"warning",never:"info"};return{content:N,type:W[N]}}}},p=y,M=e(1195),z=e(51),U=Object(z.a)(p,a,u,!1,null,"3574acc6",null),F=v.default=U.exports},1298:function(c,v,e){"use strict";e.r(v);var a=function(){var l=this,m=l.$createElement,_=l._self._c||m;return _("div",{staticClass:"payment-method",class:["dark"]},[l._l(l.paymentMethods,function(C){return _("el-card",{key:C.name,staticClass:"select-mark clickable method",class:{selected:l.selectedPaymentMethod.name===C.name},attrs:{type:"flex",align:"middle",justify:"start"},nativeOn:{click:function(I){return l.selectPaymentMethod(C)}}},[_("el-row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[_("div",{staticClass:"content"},[_("el-col",{attrs:{span:12}},[_("h3",[l._v(l._s(l.$t(C.name)))])]),_("el-col",{attrs:{span:12,justify:"flex-end"}},[_("div",{staticClass:"logo"},[C.name==="stripe_card"?_("div",[_("img",{staticClass:"card-logos",attrs:{src:e(1159)}}),_("img",{staticClass:"card-logos",attrs:{src:e(1160)}}),_("img",{staticClass:"card-logos",attrs:{src:e(1161)}})]):l._e(),C.name==="paypal"?_("div",[_("img",{staticClass:"card-logos paypal",attrs:{src:e(1205)}})]):l._e(),C.name==="paymentwall"?_("div",[_("img",{staticClass:"card-logos unionpay",attrs:{src:e(1206)}}),_("img",{staticClass:"card-logos unionpay-logo",attrs:{src:e(1207)}})]):l._e(),C.name==="paymentwall_cc"?_("div",[_("JCBLogo",{staticClass:"card-logos jcb"}),_("img",{staticClass:"card-logos",attrs:{src:e(1159)}}),_("img",{staticClass:"card-logos",attrs:{src:e(1160)}}),_("img",{staticClass:"card-logos",attrs:{src:e(1161)}})],1):_("div",[_("i",{class:[C.name]})])])]),C.name==="paymentwall"&&l.$i18n.locale==="zh"?_("el-col",{staticClass:"hints",attrs:{span:24,justify:"flex-end"}},[_("a",{attrs:{target:"_blank"},on:{click:function(I){return l.openSite("/knowledges/115")}}},[_("i",{staticClass:"el-icon-link"}),l._v("\u586B\u94F6\u884C\u5361\u53F7\u5373\u53EF\uFF0C\u67E5\u770B\u56FE\u6587\u6559\u7A0B")])]):l._e(),C.name==="paypal"&&l.$i18n.locale==="zh"?_("el-col",{staticClass:"hints",attrs:{span:24,justify:"flex-end"}},[_("a",{attrs:{target:"_blank"},on:{click:function(I){return l.openSite("/knowledges/113")}}},[_("i",{staticClass:"el-icon-link"}),l._v("\u65E0\u9700\u6CE8\u518CPayPal\uFF0C\u67E5\u770B\u56FE\u6587\u6559\u7A0B")])]):l._e()],1)])],1)}),_("el-row",{attrs:{justify:"space-between",align:"middle",type:"flex"}},[_("el-col",{attrs:{xs:12,md:12}},[_("el-link",{attrs:{plain:"",underline:!1,type:"info"},on:{click:l.showMorePaymentOptions}},[l._v(l._s(l.$t("more-payment-method")))])],1),_("el-col",{attrs:{xs:12,md:12}},[l._t("default")],2)],1)],2)},u=[],$=e(62),D=e(27),B=e(23),k=e(9),T=e(39),L=e(28),R=e(1150),t=e(40),y=e(63),p=e(75),M=e(18),z=e(52),U=function(){var l=this,m=l.$createElement,_=l._self._c||m;return _("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 302"}},[_("path",{pre:!0,attrs:{d:"M217.168 23.507C203.234 7.625 178.046.816 145.823.816h-93.52A13.393 13.393 0 0 0 39.076 12.11L.136 259.077c-.774 4.87 2.997 9.28 7.933 9.28h57.736l14.5-91.971l-.45 2.88c1.033-6.501 6.593-11.296 13.177-11.296h27.436c53.898 0 96.101-21.892 108.429-85.221c.366-1.873.683-3.696.957-5.477c-1.556-.824-1.556-.824 0 0c3.671-23.407-.025-39.34-12.686-53.765",fill:"#27346A"}}),_("path",{pre:!0,attrs:{d:"M102.397 68.84a11.737 11.737 0 0 1 5.053-1.14h73.318c8.682 0 16.78.565 24.18 1.756a101.6 101.6 0 0 1 6.177 1.182a89.928 89.928 0 0 1 8.59 2.347c3.638 1.215 7.026 2.63 10.14 4.287c3.67-23.416-.026-39.34-12.687-53.765C203.226 7.625 178.046.816 145.823.816H52.295C45.71.816 40.108 5.61 39.076 12.11L.136 259.068c-.774 4.878 2.997 9.282 7.925 9.282h57.744L95.888 77.58a11.717 11.717 0 0 1 6.509-8.74z",fill:"#27346A"}}),_("path",{pre:!0,attrs:{d:"M228.897 82.749c-12.328 63.32-54.53 85.221-108.429 85.221H93.024c-6.584 0-12.145 4.795-13.168 11.296L61.817 293.621c-.674 4.262 2.622 8.124 6.934 8.124h48.67a11.71 11.71 0 0 0 11.563-9.88l.474-2.48l9.173-58.136l.591-3.213a11.71 11.71 0 0 1 11.562-9.88h7.284c47.147 0 84.064-19.154 94.852-74.55c4.503-23.15 2.173-42.478-9.739-56.054c-3.613-4.112-8.1-7.508-13.327-10.28c-.283 1.79-.59 3.604-.957 5.477z",fill:"#2790C3"}}),_("path",{pre:!0,attrs:{d:"M216.952 72.128a89.928 89.928 0 0 0-5.818-1.49a109.904 109.904 0 0 0-6.177-1.174c-7.408-1.199-15.5-1.765-24.19-1.765h-73.309a11.57 11.57 0 0 0-5.053 1.149a11.683 11.683 0 0 0-6.51 8.74l-15.582 98.798l-.45 2.88c1.025-6.501 6.585-11.296 13.17-11.296h27.444c53.898 0 96.1-21.892 108.428-85.221c.367-1.873.675-3.688.958-5.477c-3.122-1.648-6.501-3.072-10.14-4.279a83.26 83.26 0 0 0-2.77-.865",fill:"#1F264F"}})])},F={render:U,name:"logos-paypal"},g=function(){var l=this,m=l.$createElement,_=l._self._c||m;return _("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 198"}},[_("defs",[_("linearGradient",{pre:!0,attrs:{x1:"-57.527%",y1:"50.124%",x2:"232.391%",y2:"50.124%",id:"IconifyId-18254f1acc7-61418-0"}},[_("stop",{pre:!0,attrs:{"stop-color":"#007940",offset:"0%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#00873F",offset:"22.85%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#40A737",offset:"74.33%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#5CB531",offset:"100%"}})],1),_("linearGradient",{pre:!0,attrs:{x1:".183%",y1:"49.96%",x2:"100.273%",y2:"49.96%",id:"IconifyId-18254f1acc7-61418-1"}},[_("stop",{pre:!0,attrs:{"stop-color":"#007940",offset:"0%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#00873F",offset:"22.85%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#40A737",offset:"74.33%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#5CB531",offset:"100%"}})],1),_("linearGradient",{pre:!0,attrs:{x1:"-62.802%",y1:"49.858%",x2:"253.671%",y2:"49.858%",id:"IconifyId-18254f1acc7-61418-2"}},[_("stop",{pre:!0,attrs:{"stop-color":"#007940",offset:"0%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#00873F",offset:"22.85%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#40A737",offset:"74.33%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#5CB531",offset:"100%"}})],1),_("linearGradient",{pre:!0,attrs:{x1:".176%",y1:"50.006%",x2:"101.808%",y2:"50.006%",id:"IconifyId-18254f1acc7-61418-3"}},[_("stop",{pre:!0,attrs:{"stop-color":"#1F286F",offset:"0%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#004E94",offset:"47.51%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#0066B1",offset:"82.61%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#006FBC",offset:"100%"}})],1),_("linearGradient",{pre:!0,attrs:{x1:"-.576%",y1:"49.914%",x2:"98.133%",y2:"49.914%",id:"IconifyId-18254f1acc7-61418-4"}},[_("stop",{pre:!0,attrs:{"stop-color":"#6C2C2F",offset:"0%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#882730",offset:"17.35%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#BE1833",offset:"57.31%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#DC0436",offset:"85.85%"}}),_("stop",{pre:!0,attrs:{"stop-color":"#E60039",offset:"100%"}})],1)],1),_("path",{pre:!0,attrs:{d:"M256 157.418c0 21.907-17.839 39.746-39.746 39.746H0V39.746C0 17.839 17.839 0 39.746 0H256v157.418z",fill:"#FFF"}}),_("path",{pre:!0,attrs:{d:"M185.584 117.046h16.43c.47 0 1.565-.156 2.035-.156c3.13-.626 5.79-3.443 5.79-7.355c0-3.755-2.66-6.572-5.79-7.354c-.47-.157-1.408-.157-2.034-.157h-16.43v15.022z",fill:"url(#IconifyId-18254f1acc7-61418-0)"}}),_("path",{pre:!0,attrs:{d:"M200.137 13.3c-15.648 0-28.48 12.676-28.48 28.48v29.575h40.216c.939 0 2.034 0 2.816.156c9.076.47 15.805 5.164 15.805 13.3c0 6.416-4.538 11.893-12.988 12.989v.312c9.232.626 16.274 5.79 16.274 13.77c0 8.607-7.824 14.24-18.152 14.24h-44.127v57.898h41.78c15.648 0 28.48-12.675 28.48-28.48V13.3h-41.624z",fill:"url(#IconifyId-18254f1acc7-61418-1)"}}),_("path",{pre:!0,attrs:{d:"M207.804 86.69c0-3.756-2.66-6.26-5.79-6.73c-.312 0-1.095-.156-1.564-.156h-14.866v13.77h14.866c.47 0 1.408 0 1.565-.156c3.13-.47 5.79-2.973 5.79-6.729z",fill:"url(#IconifyId-18254f1acc7-61418-2)"}}),_("path",{pre:!0,attrs:{d:"M42.719 13.3c-15.648 0-28.48 12.676-28.48 28.48v70.26c7.981 3.911 16.274 6.415 24.568 6.415c9.858 0 15.178-5.946 15.178-14.083V71.198h24.411v33.017c0 12.831-7.98 23.316-35.051 23.316c-16.43 0-29.262-3.6-29.262-3.6v59.932h41.78c15.648 0 28.48-12.675 28.48-28.48V13.302H42.718z",fill:"url(#IconifyId-18254f1acc7-61418-3)"}}),_("path",{pre:!0,attrs:{d:"M121.428 13.3c-15.648 0-28.48 12.676-28.48 28.48v37.242c7.199-6.103 19.717-10.015 39.903-9.076c10.797.47 22.376 3.443 22.376 3.443v12.049c-5.79-2.973-12.674-5.634-21.594-6.26c-15.335-1.095-24.567 6.416-24.567 19.56c0 13.301 9.232 20.812 24.567 19.56c8.92-.626 15.805-3.442 21.594-6.259v12.049s-11.423 2.973-22.376 3.443c-20.186.938-32.704-2.974-39.902-9.076v65.721h41.78c15.648 0 28.479-12.675 28.479-28.48V13.302h-41.78z",fill:"url(#IconifyId-18254f1acc7-61418-4)"}})])},S={render:g,name:"logos-jcb"};function O(l,m){var _=Object.keys(l);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(l);m&&(C=C.filter(function(I){return Object.getOwnPropertyDescriptor(l,I).enumerable})),_.push.apply(_,C)}return _}function N(l){for(var m=1;m<arguments.length;m++){var _=arguments[m]!=null?arguments[m]:{};m%2?O(Object(_),!0).forEach(function(C){Object(M.a)(l,C,_[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(_)):O(Object(_)).forEach(function(C){Object.defineProperty(l,C,Object.getOwnPropertyDescriptor(_,C))})}return l}var W={name:"PricingPagePaymentOptions",components:{PayPalLogo:F,JCBLogo:S},props:{value:{type:Object,default:function(){return{}}},mode:{type:String,default:"buyService"},cate:{type:String,default:"allplatform"}},data:function(){return{}},computed:N({selectedPaymentMethod:function(){return this.value},alipayAllowed:function(){var m,_,C,I,G,V,Z,K;return console.log("allowed payment methods:",(m=this.user)===null||m===void 0||(_=m.extra)===null||_===void 0?void 0:_.allowed_payment_methods,(C=this.user)===null||C===void 0||(I=C.extra)===null||I===void 0||(G=I.allowed_payment_methods)===null||G===void 0?void 0:G.includes("alipay")),(V=this.user)===null||V===void 0||(Z=V.extra)===null||Z===void 0||(K=Z.allowed_payment_methods)===null||K===void 0?void 0:K.includes("alipay")},cnyMethods:function(){return[{name:"alipay_pc",currency:"CNY",hide:!this.alipayAllowed},{name:"alipay_mobile",currency:"CNY",hide:!this.alipayAllowed}]},eurMethods:function(){return[{name:"stripe_card",currency:"EUR"},{name:"paymentwall",currency:"EUR"},{name:"paypal",currency:"EUR"},{name:"stripe_ideal",currency:"EUR"}]},paymentMethods:function(){var m=this;return[].concat(Object(R.a)(this.eurMethods),Object(R.a)(this.cnyMethods)).filter(function(_){if(console.log(_.name,_.hide,m.alipayAllowed),_.hide)return!1;if(_.adminOnly)return m.isAadmin;if(_.name==="stripe_ideal"){var C;return((C=m.user.billing)===null||C===void 0?void 0:C.country)==="Netherlands"}return _.currency==="CNY"?!!m.hasService:_.allowedUserIds?_.allowedUserIds.includes(m.user.id):!0})}},Object(z.b)({session:function(m){return m.session},isAdmin:function(m){return m.session.isAdmin},user:function(m){return m.user},loggedIn:function(m){return m.session.jwt_token},serviceArray:function(m){return m.service},hasService:function(m){var _;return((_=Object.keys(m.service))===null||_===void 0?void 0:_.length)>0}})),watch:{mode:function(m){m==="topUp"&&this.selectPaymentMethod(this.paymentMethods[0])},cate:function(m){this.selectPaymentMethod(this.paymentMethods[0])}},mounted:function(){console.log("payment options module mounted"),this.selectPaymentMethod(this.paymentMethods[0])},methods:{selectPaymentMethod:function(m){console.log("select new payment method:",m),this.$emit("input",m),this.$scrollTo("#pay-button",this.$config.scrollTo.delay,{offset:-200})},showMorePaymentOptions:function(){this.$alert(this.$t("bank-transfer.name")+`:

`+this.$t("bank-transfer.content")+`

`+this.$t("bank-transfer.after")+`

`+this.$t("crypto-transfer.name"),this.$t("more-payment-method"),{confirmButtonText:"OK",callback:function(_){console.log(_)}})}}},Y=W,x=e(1208),i=e(1214),h=e(51),n=Object(h.a)(Y,a,u,!1,null,"677c4e0a",null),f=v.default=n.exports},1299:function(c,v,e){"use strict";e.r(v);var a=function(){var t=this,y=t.$createElement,p=t._self._c||y;return p("div",{staticClass:"topup"},[p("h2",[t._v(t._s(t.$t("pricing.topup"))+" \u20AC"),p("input",{directives:[{name:"model",rawName:"v-model",value:t.topUpAmount,expression:"topUpAmount"}],attrs:{type:"number",min:"1",step:"1"},domProps:{value:t.topUpAmount},on:{input:function(M){M.target.composing||(t.topUpAmount=M.target.value)}}})])])},u=[],$=e(205),D={name:"PricingPageTopUp",props:{value:{type:Number,default:20}},data:function(){return{topUpAmount:20}},watch:{topUpAmount:function(y){if(y>=1)return this.$emit("input",Number(y));this.topUpAmount=1}}},B=D,k=e(1191),T=e(51),L=Object(T.a)(B,a,u,!1,null,"c47b9d38",null),R=v.default=L.exports},1300:function(c,v,e){"use strict";e.r(v);var a=function(){var y=this,p=y.$createElement,M=y._self._c||p;return M("div",{staticClass:"select-time",attrs:{gutter:5,type:"flex",align:"bottom",justify:"start"}},[M("el-row",{staticClass:"main"},[["new_buy","extend"].includes(y.purchaseType.type)?M("el-col",{attrs:{xs:24,md:21}},[M("el-row",{attrs:{gutter:5}},[y.selectedCate?M("el-col",{staticClass:"time-option",attrs:{xs:7,md:5,span:5}},[M("el-card",{staticClass:"select-mark",class:{selected:y.selectedTime===1},attrs:{shadow:"hover"},nativeOn:{click:function(z){return y.selectTime(1)}}},[M("h3",[y._v(y._s(y.$t("pricing.monthly")))])])],1):y._e(),y.selectedCate?M("el-col",{staticClass:"time-option",attrs:{xs:10,md:7,span:7}},[M("el-card",{staticClass:"select-mark",class:{selected:y.selectedTime===12},attrs:{shadow:"hover"},nativeOn:{click:function(z){return y.selectTime(12)}}},[M("el-badge",{attrs:{value:y.$t("pricing.20off")}},[M("h3",[y._v(y._s(y.$t("pricing.anually")))])])],1)],1):y._e(),y.selectedCate?M("el-col",{staticClass:"time-option",attrs:{xs:7,md:5,span:5}},[M("el-card",{staticClass:"select-mark",class:{selected:y.selectedTime===6},attrs:{shadow:"hover"},nativeOn:{click:function(z){return y.selectTime(6)}}},[M("el-badge",{attrs:{value:y.$t("pricing.10off")}},[M("h3",[y._v(y._s(y.$t("pricing.semi_anual")))])])],1)],1):y._e()],1)],1):y._e()],1),["new_buy","extend"].includes(y.purchaseType.type)&&y.selectedTime>=6&&y.selectedCate?M("el-row",{staticClass:"discount-warning",attrs:{xs:24}},[M("p",[y._v(y._s(y.$t("pricing.warning.e")))])]):y._e()],1)},u=[],$=e(205),D={name:"PringPageTimeOptions",props:{selectedCate:{type:String,default:"allplatform"},purchaseType:{type:Object,default:function(){}},selectedPlan:{type:[Number,String],default:4},value:{type:Number,default:12}},computed:{selectedTime:function(){return this.value}},methods:{selectTime:function(p){this.$emit("input",p),this.$scrollTo("#plan-list",this.$config.scrollTo.delay,{offset:-200})}}},B=D,k=e(1197),T=e(1199),L=e(51),R=Object(L.a)(B,a,u,!1,null,"01d2d394",null),t=v.default=R.exports},1301:function(c,v,e){"use strict";e.r(v);var a=function(){var t=this,y=t.$createElement,p=t._self._c||y;return p("div",[t.selectedCate==="allplatform"?p("div",{staticClass:"price-table"},[p("el-row",[p("el-col",{attrs:{xs:{span:24,offset:0},md:10}},[p("el-card",{staticClass:"select-mark",class:{selected:t.selectedPlan===4},attrs:{shadow:"hover"},nativeOn:{click:function(M){return t.selectPlan(4)}}},[p("h2",[t._v(t._s(t.$t("plan_names.4")))]),t.currentService.status==="on"&&t.currentPlanId===4?p("el-tag",{attrs:{type:"success",size:"mini"}},[t._v(t._s(t.$t("current_plan")))]):t._e(),p("div",{staticClass:"pricetag"},[p("h1",[p("small",[t._v("\u20AC")]),t._v(t._s(t.calcPrice(t.feeList["4"]))),p("small",[t._v("/"+t._s(t.$t("month")))])])]),p("div",{staticClass:"content"},[p("h5",[p("span",{staticClass:"subheader thin",attrs:{popover:'$t("buy_premium_data.all_pre_condition")',"popover-trigger":"mouseenter","popover-placement":"bottom"}},[p("b",{staticClass:"underline"},[t._v(t._s(t.$t("unlimited_nor_quota")))])]),t._v(" + 40GB "+t._s(t.$t("service.pre")))]),p("h5",[t._v(t._s(t.$t("plan_desc.current_use"))+" "),p("b",{staticClass:"underline"},[t._v("5")]),t._v(" "+t._s(t.$t("plan_desc.devices")))]),p("h5",[p("b",[t._v(t._s(t.$t("plan_desc.everything_in_basic2")))])]),p("el-divider",[t._v(t._s(t.$t("plan_desc.extras")))]),p("h5",{staticClass:"plus"},[t._v(t._s(t.$t("plan_desc.pro_only_server")))]),p("h5",{staticClass:"plus"},[t._v(t._s(t.$t("plan_desc.pro_qos")))]),p("h5",{staticClass:"plus"},[t._v(t._s(t.$t("plan_desc.remote_support")))]),p("h5",{staticClass:"plus"},[t._v(t._s(t.$t("plan_desc.new_protocol")))]),p("h5",{staticClass:"plus"},[t._v(t._s(t.$t("plan_desc.pro_ticket")))])],1),p("el-button",{attrs:{type:"success",plain:""}},[t._v(t._s(t.$t("pricing.choose")))])],1)],1),p("el-col",{attrs:{xs:{span:24,offset:0},md:8}},[p("el-card",{staticClass:"select-mark",class:{selected:t.selectedPlan===2},attrs:{shadow:"hover"},nativeOn:{click:function(M){return t.selectPlan(2)}}},[p("h2",[t._v(t._s(t.$t("plan_names.2")))]),t.currentService.extra&&(t.currentService.status==="on"||t.currentService.extra.buy_length>1)&&t.currentPlanId===2?p("el-tag",{attrs:{type:"success",size:"mini"}},[t._v(t._s(t.$t("current_plan")))]):t._e(),p("div",{staticClass:"pricetag"},[p("h1",[p("small",[t._v("\u20AC")]),t._v(t._s(t.calcPrice(t.feeList["2"]))),p("small",[t._v("/"+t._s(t.$t("month")))])])]),p("div",{staticClass:"content"},[p("h5",[t._v(t._s(t.$t("plan_desc.plan2_quota")))]),p("h5",[t._v(t._s(t.$t("plan_desc.current_use"))+" "),p("b",{staticClass:"underline"},[t._v("3")]),t._v(" "+t._s(t.$t("plan_desc.devices")))]),p("h5",[t._v(t._s(t.$t("plan_desc.all_devices_ready")))]),p("h5",[t._v(t._s(t.$t("plan_desc.provide"))+" "),p("b",{staticClass:"underline"},[t._v("1Gbps")]),t._v(" "+t._s(t.$t("plan_desc.china_optimized")))]),p("h5",[p("b",{staticClass:"underline"},[t._v("IEPL/IPLC")]),t._v(" "+t._s(t.$t("plan_desc.intl_line")))]),p("h5",[t._v(t._s(t.$t("plan_desc.trojan")))]),p("h5",[t._v(t._s(t.$t("plan_desc.vmess")))]),p("h5",[t._v(t._s(t.$t("plan_desc.ssltide")))])]),p("el-button",{attrs:{type:"info",plain:""}},[t._v(t._s(t.$t("pricing.choose")))])],1)],1)],1)],1):t._e(),t.selectedCate==="home"?p("div",{staticClass:"price-table"},[p("el-row",[p("el-col",{attrs:{xs:{span:24,offset:0},md:10}},[p("el-card",{staticClass:"select-mark",class:{selected:t.selectedPlan===6},attrs:{shadow:"hover"},nativeOn:{click:function(M){return t.selectPlan(6)}}},[p("h2",[t._v(t._s(t.$t("plan_names.6")))]),t.currentPlanId===6?p("el-tag",{attrs:{type:"success",size:"mini"}},[t._v(t._s(t.$t("current_plan")))]):t._e(),p("div",{staticClass:"pricetag"},[p("h1",[p("small",[t._v("\u20AC")]),t._v(t._s(t.calcPrice(t.feeList["6"]))),p("small",[t._v("/"+t._s(t.$t("month")))])])]),p("div",{staticClass:"content"},[p("h5",[p("b",[t._v(t._s(t.$t("plan_desc.plan6_quota")))])]),p("h5",[t._v(" "+t._s(t.$t("plan_desc.current_use"))+" "),p("b",{staticClass:"underline"},[t._v("5")]),t._v(" "+t._s(t.$t("plan_desc.devices")))]),p("h5",[p("b",[t._v(t._s(t.$t("plan_desc.everything_in_basic5")))])]),p("el-divider",[t._v(t._s(t.$t("plan_desc.extras")))]),p("h5",{staticClass:"plus"},[t._v(t._s(t.$t("plan_desc.pro_qos")))]),p("h5",{staticClass:"plus"},[t._v(t._s(t.$t("plan_desc.remote_support")))]),p("h5",{staticClass:"plus"},[t._v(t._s(t.$t("plan_desc.new_protocol")))]),p("h5",{staticClass:"plus"},[t._v(t._s(t.$t("plan_desc.pro_ticket")))])],1),p("el-button",{attrs:{type:"success",plain:""}},[t._v(t._s(t.$t("pricing.choose")))])],1)],1),p("el-col",{attrs:{xs:{span:24,offset:0},md:8}},[p("el-card",{staticClass:"select-mark",class:{selected:t.selectedPlan===5},attrs:{shadow:"hover"},nativeOn:{click:function(M){return t.selectPlan(5)}}},[p("h2",[t._v(t._s(t.$t("plan_names.5")))]),t.currentPlanId===5?p("el-tag",{attrs:{type:"success",size:"mini"}},[t._v(t._s(t.$t("current_plan")))]):t._e(),p("div",{staticClass:"pricetag"},[p("h1",[p("small",[t._v("\u20AC")]),t._v(t._s(t.calcPrice(t.feeList["5"]))),p("small",[t._v("/"+t._s(t.$t("month")))])])]),p("div",{staticClass:"content"},[p("h5",[t._v(t._s(t.$t("plan_desc.plan5_quota")))]),p("h5",[t._v(t._s(t.$t("plan_desc.current_use"))+" "),p("b",{staticClass:"underline"},[t._v("3")]),t._v(" "+t._s(t.$t("plan_desc.devices")))]),p("h5",[t._v(t._s(t.$t("plan_desc.all_devices_ready")))]),p("h5",[t._v(t._s(t.$t("plan_desc.anyconnect")))]),p("h5",[t._v(t._s(t.$t("plan_desc.ssltide")))])]),p("el-button",{attrs:{type:"info",plain:""}},[t._v(t._s(t.$t("pricing.choose")))])],1)],1)],1)],1):t._e(),p("el-row",{staticClass:"hints"},[t.selectedCate?p("h4",{staticClass:"amount-currency-hint"},[t._v(t._s(t.$t("pricing.prices_shown"))),p("span",[t._v(t._s(t.$t("eur")))])]):t._e(),t.selectedCate?p("h4",{staticClass:"otp"},[t._v(t._s(t.$t("pricing.one-time-payment")))]):t._e()])],1)},u=[],$=e(205),D={name:"PricingPagePlanOptions",props:{currentPlanId:{type:Number,default:4},selectedCate:{type:String,default:"allplatform"},currentService:{type:Object,default:function(){}},selectedTime:{type:Number,default:12},value:{type:Number,default:4}},computed:{selectedPlan:function(){return this.value},discount:function(){switch(this.selectedTime){case 12:return 10/12;case 6:return 5.5/6;default:return 1}},feeList:function(){return console.log("feeList in plan options:",this.$config.feeList),this.$config.feeList}},methods:{calcPrice:function(y){return Math.floor(y*this.discount*10)/10},selectPlan:function(y){this.$emit("input",y),console.log("new plan:",y),this.$scrollTo("#payment",this.$config.scrollTo.delay,{offset:-200})}}},B=D,k=e(1201),T=e(51),L=Object(T.a)(B,a,u,!1,null,"511922c1",null),R=v.default=L.exports},1302:function(c,v,e){"use strict";e.r(v);var a=function(){var i=this,h=i.$createElement,n=i._self._c||h;return n("div",{staticClass:"extra-premium"},[i.canBuyExtraPremiumForOtherMonth?n("div",[i.canBuyExtraForThisMonth&&!i.model.allPre?n("h2",{staticClass:"purchase-input"},[i._v(i._s(i.$t("pricing.to_buy"))),n("input",{directives:[{name:"model",rawName:"v-model",value:i.model.extraPremium,expression:"model.extraPremium"}],attrs:{type:"range",disabled:i.model.allPre,min:"1",step:"1",max:i.maxPreForCurrentMonth},domProps:{value:i.model.extraPremium},on:{__r:function(f){return i.$set(i.model,"extraPremium",f.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:i.model.extraPremium,expression:"model.extraPremium"}],attrs:{type:"number",disabled:i.model.allPre,min:"1",step:"1",max:i.maxPreForCurrentMonth},domProps:{value:i.model.extraPremium},on:{input:function(f){f.target.composing||i.$set(i.model,"extraPremium",f.target.value)}}}),i._v("GB "+i._s(i.$t("service.pre")))]):i._e(),n("el-row",{staticClass:"hint-for-basic",attrs:{type:"flex",align:"middle",justify:"center"}},[n("el-col",{attrs:{md:9,xs:24}},[i.currentService.plan_id===2?n("h5",[i._v(i._s(i.$tc("pricing.premium_data.basic_price",i.$config.feeList.pre2))),n("br"),n("span",[i._v(i._s(i.$tc("pricing.premium_data.basic_hint",i.$config.feeList.pre4)))]),n("br"),n("el-link",{attrs:{type:"success"},on:{click:i.upgradePlan}},[i._v(i._s(i.$t("service_details.upgrade")))])],1):n("h5",[i._v(i._s(i.$tc("pricing.premium_data.pre_hint",i.$config.feeList.pre4)))])])],1),i.currentService.plan_id!==2&&i.canBuyExtraForThisMonth&&!i.model.allPre?n("h4",{staticClass:"subheader"},[Number(i.model.extraPremium)===i.maxPreForCurrentMonth?n("span",[i._v(i._s(i.$tc("pricing.max_premium_hint",i.maxPreForCurrentMonth)))]):n("span",[i._v(i._s(i.$tc("pricing.max_premium_hint2",i.maxPreForCurrentMonth-(i.model.extraPremium||0))))])]):i._e(),i.currentService.plan_id!==2&&i.currentService.extra.buy_length-i.currentAllPre?n("div",[i.currentAllPre>1?n("p",[i._v(i._s(i.$tc("pricing.already_unlimited_for",i.currentAllPre)))]):i._e(),n("el-checkbox",{staticClass:"all-pre-check",model:{value:i.model.allPre,callback:function(f){i.$set(i.model,"allPre",f)},expression:"model.allPre"}},[n("b",[i._v(i._s(i.$tc("pricing.get_extra_for",i.currentService.extra.buy_length-i.currentAllPre)))])])],1):i._e()],1):n("div",[n("h2",{staticClass:"subheader"},[i._v(i._s(i.$t("pricing.already_unlimited")))]),i.currentAllPre>1?n("p",[i._v(i._s(i.$tc("pricing.already_unlimited_for",i.currentAllPre)))]):i._e()]),n("el-divider"),n("div",{staticClass:"explain"},[n("ul",[i.currentService.plan_id===4?n("li",[i._v(i._s(i.$t("pricing.extra_premium_explain.c")))]):i._e(),n("li",[i._v(i._s(i.$t("pricing.extra_premium_explain.d")))])])])],1)},u=[],$=e(62),D=e(40),B=e(27),k=e(23),T=e(39),L=e(205),R=e(18),t=e(24),y=e(25),p=e(9),M=e(74),z=e(6),U=e(52);function F(i,h){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(i);h&&(f=f.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,f)}return n}function g(i){for(var h=1;h<arguments.length;h++){var n=arguments[h]!=null?arguments[h]:{};h%2?F(Object(n),!0).forEach(function(f){Object(R.a)(i,f,n[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(f){Object.defineProperty(i,f,Object.getOwnPropertyDescriptor(n,f))})}return i}var S={name:"PricingPagePremiumData",props:{currentService:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}}},data:function(){return{model:{alreadyBought:0,extraPremium:10,allPre:!1,maxPreForCurrentMonth:100,currentAllPre:0}}},fetch:function(){var h=this;return Object(z.a)(regeneratorRuntime.mark(function n(){var f,l;return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!((f=h.user)!==null&&f!==void 0&&f.id)){_.next=14;break}return _.prev=1,_.next=4,h.$store.dispatch("getAlreadyBoughtPremiumData",{userId:h.user.id});case 4:l=_.sent,console.log("alreadyBought: "+l.toString()),h.model.alreadyBought=l,console.log(h.model.alreadyBought),_.next=14;break;case 10:_.prev=10,_.t0=_.catch(1),console.log("fetch alreadyBought failed: "+_.t0),h.$sentry.captureException(_.t0);case 14:case"end":return _.stop()}},n,null,[[1,10]])}))()},computed:g({currentAllPre:function(){var h,n;return((h=this.currentService)===null||h===void 0||(n=h.extra)===null||n===void 0?void 0:n.all_pre)||0},canBuyExtraPremiumForOtherMonth:function(){var h,n,f,l;return((h=this.currentService)===null||h===void 0||(n=h.extra)===null||n===void 0?void 0:n.buy_length)>(((f=this.currentService)===null||f===void 0||(l=f.extra)===null||l===void 0?void 0:l.all_pre)||0)},canBuyExtraForThisMonth:function(){var h,n;return(h=this.currentService)!==null&&h!==void 0&&(n=h.extra)!==null&&n!==void 0&&n.all_pre?!1:this.maxPreForCurrentMonth>0},maxPreForCurrentMonth:function(){var h,n;if(((h=this.currentService)===null||h===void 0?void 0:h.plan_id)===2)return 999999999999;var f=((n=this.model.alreadyBought)===null||n===void 0?void 0:n.allplatform)||0;return 100-f}},Object(U.b)({user:function(h){return h.user}})),watch:{maxPreForCurrentMonth:function(h){this.model.maxPreForCurrentMonth=h},currentAllPre:function(h){this.model.currentAllPre=h},model:function(h){console.log("new premiumOptions:",h),this.$emit("input",g(g({},h),{},{extraPremium:Number(h.extraPremium)}))},"model.extraPremium":function(h){h>this.maxPreForCurrentMonth&&(this.model.extraPremium=this.maxPreForCurrentMonth)}},mounted:function(){console.log("premium module loaded."),this.$emit("input",this.model)}},O=S,N=e(1203),W=e(51),Y=Object(W.a)(O,a,u,!1,null,"d3b460f6",null),x=v.default=Y.exports},1303:function(c,v,e){"use strict";e.r(v);var a=function(){var x=this,i=x.$createElement,h=x._self._c||i;return h("div",{staticClass:"agreements"},[x._l(x.agreements,function(n){return(!n.planId||n.planId===x.selectedPlan)&&(!n.cate||n.cate===x.selectedCate)?h("p",{key:n.label},[n.tooltip?h("el-tooltip",{attrs:{content:x.$t(n.tooltip),placement:"top"}},[h("el-checkbox",{model:{value:n.checked,callback:function(f){x.$set(n,"checked",f)},expression:"option.checked"}},[h("p",[x._v(x._s(x.$t(n.label)))])])],1):h("el-checkbox",{model:{value:n.checked,callback:function(f){x.$set(n,"checked",f)},expression:"option.checked"}},[h("p",[x._v(x._s(x.$t(n.label)))])])],1):x._e()}),h("p",{staticClass:"agree-all"},[h("el-link",{attrs:{type:"success"},on:{click:x.agreeAll}},[x._v(x._s(x.$t("pricing.agreements.agree_all")))])],1)],2)},u=[],$=e(49),D=e(27),B=e(48),k=e(47),T=e(28),L=e(24),R=e(25),t=e(9),y=e(41),p=e(205);function M(x,i){var h=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!h){if(Array.isArray(x)||(h=z(x))||i&&x&&typeof x.length=="number"){h&&(x=h);var n=0,f=function(){};return{s:f,n:function(){return n>=x.length?{done:!0}:{done:!1,value:x[n++]}},e:function(I){throw I},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,m=!1,_;return{s:function(){h=h.call(x)},n:function(){var I=h.next();return l=I.done,I},e:function(I){m=!0,_=I},f:function(){try{!l&&h.return!=null&&h.return()}finally{if(m)throw _}}}}function z(x,i){if(!!x){if(typeof x=="string")return U(x,i);var h=Object.prototype.toString.call(x).slice(8,-1);if(h==="Object"&&x.constructor&&(h=x.constructor.name),h==="Map"||h==="Set")return Array.from(x);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return U(x,i)}}function U(x,i){(i==null||i>x.length)&&(i=x.length);for(var h=0,n=new Array(i);h<i;h++)n[h]=x[h];return n}var F={name:"PricingPageAgreements",props:{selectedCate:{type:String,default:"allplatform"},selectedPlan:{type:[Number,String],default:4}},data:function(){return{agreements:[{label:"pricing.agreements.tos",checked:!1},{label:"pricing.agreements.non_political",checked:!1},{label:"pricing.agreements.ios_app",checked:!1,cate:"allplatform"},{label:"pricing.agreements.no_sharing",checked:!1},{label:"pricing.agreements.data_cap",checked:!1,planId:4,tooltip:"pricing.warning.c"},{label:"pricing.agreements.ban_country",checked:!1,cate:"home"}]}},computed:{agreedToAll:function(){var i=M(this.agreements),h;try{for(i.s();!(h=i.n()).done;){var n=h.value;if(!(n.planId&&n.planId!==this.selectedPlan)&&!(n.cate&&n.cate!==this.selectedCate)&&!n.checked)return!1}}catch(f){i.e(f)}finally{i.f()}return!0}},watch:{agreedToAll:function(i){this.$emit("input",i)}},methods:{agreeAll:function(){var i=M(this.agreements),h;try{for(i.s();!(h=i.n()).done;){var n=h.value;n.checked=!0}}catch(f){i.e(f)}finally{i.f()}this.$scrollTo("#pay-button",this.$config.scrollTo.delay,{offset:-200})}}},g=F,S=e(1216),O=e(1218),N=e(51),W=Object(N.a)(g,a,u,!1,null,"78459a07",null),Y=v.default=W.exports},1310:function(c,v,e){"use strict";var a=e(1257),u=e.n(a)},1311:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,"#pricing[data-v-2afe867a]{padding-top:2rem}.el-container .el-checkbox__label[data-v-2afe867a]{width:60px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.el-container[data-v-2afe867a]{margin:0 auto;padding:0 10px;display:flex;justify-content:center;width:100%;max-width:var(--secondary-max-width);text-align:center}.el-container main[data-v-2afe867a]{width:100%;margin:0 auto 16px;color:var(--primary-color);max-width:var(--primary-max-width)}.el-container section[data-v-2afe867a]{justify-content:center;align-items:center;text-align:center;flex-flow:row wrap}.el-container section .extra-option[data-v-2afe867a]{text-align:right}@media (max-width:768px){.el-container section .extra-option[data-v-2afe867a]{padding-right:10px}.el-container section .extra-option .el-button span[data-v-2afe867a]{font-size:.8rem}.el-container section .extra-option .el-link[data-v-2afe867a]{margin-bottom:20px}}.el-container section .extra-option .el-link[data-v-2afe867a]{font-size:20px}.el-container section .el-col[data-v-2afe867a]{margin-bottom:20px}.el-container section[data-v-2afe867a]:not(.el-container section.intro){max-width:var(--primary-max-width)}.el-container section h1[data-v-2afe867a]{font-size:36px;line-height:46px;margin:0 auto;display:block;text-align:left;color:var(--primary-color);font-weight:500}@media (max-width:768px){.el-container section h1[data-v-2afe867a]{font-size:22px;line-height:25px}}.el-container section .title h1 span[data-v-2afe867a]{--size:40px;padding:5px;font-size:var(--size);line-height:var(--size);margin-right:5px;color:var(--midnight-blue);background:var(--primary-color);border-radius:99px;width:var(--size);box-sizing:content-box;display:inline-block;text-align:center}@media (max-width:768px){.el-container section .title h1 span[data-v-2afe867a]{--size:30px}}.el-container section.intro[data-v-2afe867a]{text-align:left;margin-bottom:60px}.el-container section.intro h1[data-v-2afe867a]{font-weight:500;font-size:45px;max-width:100%;margin-bottom:20px}@media (max-width:768px){.el-container section.intro h1[data-v-2afe867a]{font-size:30px;word-wrap:break-word}.el-container section.intro h1 span[data-v-2afe867a]{display:block;margin-top:10px;font-size:25px}}.el-container section.intro h2[data-v-2afe867a],.el-container section.intro h3[data-v-2afe867a]{font-weight:300;color:var(--secondary-color)}.el-container section.intro h3[data-v-2afe867a]{cursor:pointer}.el-row[data-v-2afe867a]{flex-flow:row wrap}.el-link.choose[data-v-2afe867a]{margin-top:10px;font-size:15px}.center[data-v-2afe867a],.el-divider[data-v-2afe867a]{text-align:center!important}.el-divider[data-v-2afe867a]{width:80%;margin-left:auto;margin-right:auto}.el-button.pay[data-v-2afe867a]{margin:20px auto 0;padding:1rem;font-size:1.4rem;display:block;width:100%}.xueshu-warning[data-v-2afe867a]{margin-top:20px}.xueshu-warning h1[data-v-2afe867a]{font-weight:700!important;color:var(--carrot)!important;margin-bottom:20px!important}.xueshu-warning h3[data-v-2afe867a]{font-weight:500;white-space:pre-wrap;word-wrap:break-word}.all-pre-check[data-v-2afe867a]{font-size:1.5rem;justify-content:center;vertical-align:middle}.all-pre-check b[data-v-2afe867a]{font-size:1.5rem;color:var(--primary-color)}.all-pre-check .el-checkbox__input[data-v-2afe867a]{align-self:center}.all-pre-check .el-checkbox__input *[data-v-2afe867a]{font-size:1.5rem}.hint-for-basic[data-v-2afe867a]{text-align:center}#pre-order[data-v-2afe867a]{padding:auto 0;margin-top:0}#pre-order .el-col[data-v-2afe867a]{margin-bottom:0}.payment-method[data-v-2afe867a]{margin-top:.5rem}.dashboard-link[data-v-2afe867a]{position:fixed;right:.5rem;bottom:.5rem}.review-order-link[data-v-2afe867a]{position:fixed;left:.5rem;bottom:.5rem}",""]),c.exports=u},1312:function(c,v,e){"use strict";var a=e(1258),u=e.n(a)},1313:function(c,v,e){var a=e(1),u=a(!1);u.push([c.i,'#pricing .el-card{background:#34495e}#pricing .el-card.select-mark{background-color:var(--card-bg);cursor:pointer}#pricing .el-card.select-mark:hover{border:1px solid var(--logo-green)}#pricing .el-card.select-mark.normal{cursor:default}#pricing .el-card.select-mark.selected{border:2px solid var(--logo-green)!important;box-shadow:var(--card-box-shadow)!important;position:relative}#pricing .el-card.select-mark.selected:after{content:"\\e6da";font-family:"element-icons"!important;position:absolute;bottom:5px;right:10px;color:var(--logo-green);font-size:20px;font-weight:700}#pricing h1,#pricing h2,#pricing h3,#pricing h4,#pricing h5,#pricing p{color:var(--primary-color)}#pricing .qr-modal{max-width:500px;margin:0 auto}@media (max-width:768px){#pricing .qr-modal{max-width:100%}}#pricing .el-badge__content{right:5px;top:-5px}@media (max-width:768px){#pricing .el-badge__content{right:26px;top:-8px}}.agreements{margin-top:1rem}.step-row{margin-bottom:1rem}.go-confrim{position:-webkit-sticky;position:sticky;z-index:99;bottom:35px;width:100%;padding:1rem;font-size:1.2rem;box-shadow:0 2px 20px rgba(0,0,0,.7)}',""]),c.exports=u},1472:function(c,v,e){"use strict";e.r(v);var a=function(){var r=this,o=r.$createElement,s=r._self._c||o;return s("el-container",{attrs:{id:"pricing"}},[s("main",[s("el-steps",{staticClass:"step-row",attrs:{active:r.currentStage,"align-center":"",simple:"","finish-status":"success",space:.5}},[s("el-step",{attrs:{title:r.$t("pricing.select_options")},nativeOn:{click:function(d){r.currentStage=0}}}),s("el-step",{attrs:{title:r.$t("pricing.confirm_options")},nativeOn:{click:function(d){r.showNextButton&&(r.currentStage=1)}}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:r.currentStage===0,expression:"currentStage === 0"}]},[r.mode==="topUp"?s("div",[s("section",{staticClass:"top-up"},[s("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("el-col",{staticClass:"title",attrs:{md:19,xs:15}},[s("h1",[s("span",[r._v("1")]),r._v(r._s(r.$t("pricing.add_credit")))])]),s("el-col",{staticClass:"extra-option",attrs:{md:5,xs:9}},[s("el-button",{staticClass:"unselectable",attrs:{plain:"",type:"rev-ghost"},on:{click:function(d){r.mode="buyService"}}},[r._v(r._s(r.$t("pricing.purchase_service")))])],1)],1),s("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("el-col",{attrs:{span:24}},[s("el-card",[s("PricingPageTopUp",{model:{value:r.topUpAmount,callback:function(d){r.topUpAmount=d},expression:"topUpAmount"}})],1)],1)],1)],1)]):r._e(),r.mode==="buyService"?s("div",[s("section",{staticClass:"select-cate",attrs:{id:"cate"}},[s("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("el-col",{staticClass:"title",attrs:{md:19,xs:12}},[s("h1",[s("span",[r._v("1")]),r._v(r._s(r.$t("pricing.choose_cate")))])]),r.hasService||r.isAdmin||r.user.id===289252?s("el-col",{staticClass:"extra-option",attrs:{md:5,xs:12}},[s("el-button",{staticClass:"unselectable",attrs:{plain:"",type:"rev-ghost"},on:{click:function(d){r.mode="topUp"}}},[r._v(r._s(r.$t("pricing.add_credit")))])],1):r._e()],1),s("PricingPageCateOptions",{attrs:{currentService:r.currentService},model:{value:r.selectedCate,callback:function(d){r.selectedCate=d},expression:"selectedCate"}})],1),s("section",{directives:[{name:"show",rawName:"v-show",value:r.selectedCate,expression:"selectedCate"}],staticClass:"select-plan",attrs:{id:"plan"}},[s("el-row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[s("el-col",{staticClass:"title",attrs:{xs:15,md:19}},[s("h1",[s("span",[r._v("2")]),r._v(r._s(r.$t(r.selectedTime>0?"pricing.choose_plan":"pricing.extra_premium")))])]),r.selectedCate==="allplatform"&&r.currentService.status==="on"?s("el-col",{staticClass:"extra-option",attrs:{xs:9,md:5}},[s("el-button",{staticClass:"unselectable",attrs:{plain:"",type:"rev-ghost"},on:{click:r.switchDataOrPlan}},[r._v(r._s(r.$t(r.extraPremiumButtonText)))])],1):r._e()],1),r.selectedTime>0?s("PricingPageTimeOptions",{attrs:{selectedCate:r.selectedCate,purchaseType:r.purchaseType,selectedPlan:r.selectedPlan},model:{value:r.selectedTime,callback:function(d){r.selectedTime=d},expression:"selectedTime"}}):r._e(),s("div",{attrs:{id:"plan-list"}},[r.selectedTime>0?s("div",[s("PricingPagePlanOptions",{attrs:{currentPlanId:r.currentPlanId,selectedCate:r.selectedCate,selectedTime:r.selectedTime,currentService:r.currentService},model:{value:r.selectedPlan,callback:function(d){r.selectedPlan=d},expression:"selectedPlan"}})],1):s("div",[s("el-card",{attrs:{shadow:"hover"}},[s("PricingPagePremiumData",{attrs:{currentService:r.currentService},model:{value:r.premiumOptions,callback:function(d){r.premiumOptions=d},expression:"premiumOptions"}})],1)],1)])],1)]):r._e(),s("el-button",{directives:[{name:"show",rawName:"v-show",value:r.showNextButton,expression:"showNextButton"}],staticClass:"go-confrim",attrs:{type:"primary"},on:{click:function(d){r.currentStage=1}}},[r._v(r._s(r.$t("pricing.next")))])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:r.currentStage===1,expression:"currentStage === 1"}]},[s("section",{staticClass:"summary",attrs:{id:"payment"}},[r.showSummary?s("el-row",{attrs:{gutter:10,type:"flex",align:"top",justify:"center"}},[s("el-col",{staticClass:"details",attrs:{md:11}},[s("el-card",{attrs:{shadow:"hover"}},[s("PricingPageFeeBreakdown",{attrs:{mode:r.mode,selectedCate:r.selectedCate,selectedTime:r.selectedTime,selectedPlan:r.selectedPlan,extraPremium:r.extraPremium,currentService:r.currentService,allPre:r.allPre,currentAllPre:r.premiumOptions.currentAllPre,maxPreForCurrentMonth:r.premiumOptions.maxPreForCurrentMonth,showPromo:r.showPromo,promoCode:r.promoCode,purchaseType:r.purchaseType,selectedPaymentMethod:r.selectedPaymentMethod,topUpAmount:r.topUpAmount},model:{value:r.localFee,callback:function(d){r.localFee=d},expression:"localFee"}},[r.showSummary?s("el-row",{staticClass:"pre-order",attrs:{id:"pre-order",type:"flex",align:"middle",justify:"center"}},[r.showPaymentMethodSelector?s("el-col",{staticClass:"payment-method",attrs:{span:24}},[s("PricingPagePaymentOptions",{attrs:{mode:r.mode,cate:r.selectedCate},model:{value:r.selectedPaymentMethod,callback:function(d){r.selectedPaymentMethod=d},expression:"selectedPaymentMethod"}},[r.requireBilling&&!r.showBillingEditor&&r.billingComplete?s("el-row",[s("el-link",{attrs:{underline:!1,plain:"",type:"info"},on:{click:r.showBilling}},[r._v(r._s(r.$t("update_billing.edit")))])],1):r._e()],1)],1):r._e(),s("el-col",{staticClass:"agreements",attrs:{span:24}},[r.needAgreement?s("PricingPageAgreements",{attrs:{selectedPlan:r.selectedPlan,selectedCate:r.selectedCate},model:{value:r.agreedToAll,callback:function(d){r.agreedToAll=d},expression:"agreedToAll"}}):r._e()],1),s("el-col",{attrs:{xs:24}},[s("el-button",{staticClass:"pay",attrs:{id:"pay-button",type:r.purchaseButtonType,size:"large",loading:r.confirming},on:{click:r.pay}},[r._v(r._s(r.$t("pricing."+r.purchaseType.type)))])],1)],1):r._e()],1)],1)],1)],1):r._e()],1)])],1),s("div",{staticClass:"footer"},[r.hasService?s("nuxt-link",{staticClass:"dashboard-link smooth",attrs:{to:"/dashboard/dashboard/"}},[r._v(r._s(r.$t("back")))]):r._e(),r.currentStage===1?s("a",{staticClass:"review-order-link smooth",on:{click:function(d){r.currentStage=0}}},[r._v(r._s(r.$t("price.review_order")))]):r._e()],1),s("el-dialog",{attrs:{visible:r.showQr,width:"85%",customClass:"qr-modal"},on:{"update:visible":function(d){r.showQr=d}}},[s("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("el-col",{attrs:{md:24}},[r.selectedPaymentMethod.name==="stripe_wechat"?s("a",{attrs:{href:r.confirmedInfo.qr_url}},[s("qrcode",{attrs:{value:r.confirmedInfo.qr_url}})],1):s("qrcode",{attrs:{value:r.confirmedInfo.qr_url}}),["stripe_wechat","yaband_wechat"].includes(r.selectedPaymentMethod.name)?s("p",[r._v(r._s(r.$t("pricing.stripe_wechat_qr_hint")))]):r._e()],1)],1)],1),s("BillingModal",{attrs:{modalVisible:r.showBillingEditor,callback:r.afterBillingSave},on:{"update:modalVisible":function(d){r.showBillingEditor=d},"update:modal-visible":function(d){r.showBillingEditor=d}}})],1)},u=[],$=e(62),D=e(40),B=e(27),k=e(317),T=e(4),L=e(103),R=e.n(L),t=e(28),y=e(106),p=e(74),M=e(6),z=e(23),U=e(9),F=e(39),g=e(63),S=e(75),O=e(322),N=e(18),W=e(205),Y=e(52),x=e(22),i=e.n(x),h=e(209),n=e.n(h),f=e(210),l=e.n(f);function m(r,o){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);o&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(r,b).enumerable})),s.push.apply(s,d)}return s}function _(r){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?m(Object(s),!0).forEach(function(d){Object(N.a)(r,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach(function(d){Object.defineProperty(r,d,Object.getOwnPropertyDescriptor(s,d))})}return r}i.a.extend(n.a),i.a.extend(l.a);var C={name:"BuyService",beforeRouteLeave:function(o,s,d){return this.paymentPoll&&clearInterval(this.paymentPoll),this.expireTimeout&&clearTimeout(this.expireTimeout),d()},middleware:["load-rt-data","authenticated","reload-raw-service-data"],data:function(){var o,s=this.$route.query.cate||null,d=null,b="";this.$route.query.promo&&(b=this.$route.query.promo),this.$route.query.plan?d=Number(this.$route.query.plan):s&&(d=s==="home"?6:4);var w="time"in this.$route.query?Number(this.$route.query.time):12;return{agreedToAll:!1,currentStage:Number(((o=this.$route.query)===null||o===void 0?void 0:o.stage)||0),showPromo:!1,afterBillingSave:null,mode:this.$route.query.mode||"buyService",selectedCate:s,selectedPlan:d,selectedTime:w,selectedPaymentMethod:{},topUpAmount:this.$route.query.amount||20,confirming:!1,showQr:!1,showBillingEditor:!1,promoCode:b,confirmedInfo:{},signModalVisible:!1,defaultState:"signup",waitForPaymentConfirm:{},premiumOptions:{alreadyBought:0,extraPremium:10,allPre:!1,maxPreForCurrentMonth:100,currentAllPre:0},localFee:0,faqItems:[{key:"ziranyue",status:"closed"},{key:"premium_data",status:"closed"},{key:"billing",status:"closed"},{key:"daozhang",status:"closed"},{key:"xueshu",status:"closed"},{key:"gongyong",status:"closed"}]}},computed:_({showNextButton:function(){return this.mode==="topUp"?!0:this.selectedCate?(this.selectedTime===0,!0):!1},alreadyBought:function(){return Number(this.premiumOptions.alreadyBought)},extraPremium:function(){return Number(this.premiumOptions.extraPremium)},allPre:function(){return this.premiumOptions.allPre},feeList:function(){return this.$config.feeList},purchaseType:function(){var o;if(console.log("................................................................updating purchase type..."),this.mode==="topUp")return{type:"topup"};if(this.extraPremiumDataMode)return{type:"pre"};if(!this.currentPlanId){console.log("................................currentPlanId is null",this.currentPlanId);var s={};return this.askForTwoMonths&&(s.alert=!0,s.warning="buy_two_months"),_({type:"new_buy"},s)}if(((o=this.currentService)===null||o===void 0?void 0:o.status)==="off"){var d,b;if(console.log("................................is off."),console.log("................................current service is "+this.currentService),((d=this.currentService)===null||d===void 0||(b=d.extra)===null||b===void 0?void 0:b.buy_length)===1){var w={};return this.askForTwoMonths&&(w.alert=!0,w.warning="buy_two_months"),_({type:"new_buy"},w)}else return this.currentPlanId===this.selectedPlan?{type:"extend",warning:this.selectedPlan===6?"contact_cs_for_options":"please_upgrade_not_extend",alert:this.selectedPlan!==6}:this.currentPlanId<this.selectedPlan?{type:"upgrade",warning:"will_upgrade_all"}:{type:"downgrade",warning:"downgrade",alert:!0}}if(this.currentPlanId<this.selectedPlan){var j;return _({type:"upgrade"},((j=this.currentService)===null||j===void 0?void 0:j.buy_length)>1?{warning:"will_upgrade_all"}:{})}else if(this.currentPlanId>this.selectedPlan)return{type:"downgrade",warning:"downgrade",alert:!0};return{type:"extend"}},purchaseButtonType:function(){return this.purchaseType.alert?"warning":"success"},needAgreement:function(){return this.mode==="buyService"},showSummary:function(){return console.log("->>> showSummary mode",this.mode),this.mode==="topUp"?!0:this.selectedCate&&this.selectedPlan&&(this.selectedTime||this.selectedTime===0&&this.extraPremium)},askForTwoMonths:function(){return this.selectedTime===1&&i()().tz("Asia/Shanghai").date()>=15},currentService:function(){var o,s=this,d=(o=this.$store.state.rawServiceData)===null||o===void 0?void 0:o.find(function(b){return b.cate===s.selectedCate});return d||{}},currentPlanId:function(){var o;return(o=this.currentService)===null||o===void 0?void 0:o.plan_id},extraPremiumDataMode:function(){return this.selectedCate==="allplatform"&&this.selectedTime===0&&this.extraPremium},extraPremiumButtonText:function(){return this.selectedTime?"pricing.extra_premium":"pricing.buy_plan"},pleaseUpgradeNotExtend:function(){var o,s,d,b;return((o=this.currentService)===null||o===void 0?void 0:o.status)!=="off"||![2,5].includes((s=this.currentService)===null||s===void 0?void 0:s.plan_id)?!1:((d=this.currentService)===null||d===void 0||(b=d.extra)===null||b===void 0?void 0:b.buy_length)>1},balance:function(){var o;return(o=this.user)!==null&&o!==void 0&&o.money?this.user.balance_currency!=="eur"?this.user.money/this.$config.rmbToEurRate:this.user.money:0},requireBilling:function(){return this.selectedPaymentMethod.currency==="EUR"},billingComplete:function(){var o;return(o=this.user.billing)===null||o===void 0?void 0:o.country},showPaymentMethodSelector:function(){return this.mode==="topUp"||this.localFee>0}},Object(Y.b)({session:function(o){return o.session},isAdmin:function(o){return o.session.isAdmin},user:function(o){return o.user},serviceArray:function(o){return o.service},hasService:function(o){var s;return((s=Object.keys(o.service))===null||s===void 0?void 0:s.length)>0}})),watch:{selectedCate:function(o){this.selectedPlan={allplatform:4,home:6}[o],this.selectedTime=12},selectedTime:function(o){var s=this;if(console.log("===> selectedTime changed:",o),o===0?this.selectedPlan="pre":this.selectedPlan==="pre"&&(this.selectedPlan=null),!(o===0&&this.alreadyBought===null)&&this.purchaseType.type==="new_buy"&&this.askForTwoMonths)return this.$confirm(this.$t("".concat(this.purchaseType.warning,".content")),this.$t("".concat(this.purchaseType.warning,".title")),{customClass:"serious-alert",cancelButtonText:this.$t("".concat(this.purchaseType.warning,".cancelButtonText")),cancelButtonClass:"danger",confirmButtonText:this.$t("".concat(this.purchaseType.warning,".confirmButtonText")),confirmButtonClass:"primary",closeOnPressEscape:!1,closeOnClickModal:!1,type:"warning"}).then(function(){console.log("askForTwoMonths, then..."),s.selectedTime=2}).catch(function(){console.log("askForTwoMonths, catch")})},extraPremium:function(o){o>this.maxPreForCurrentMonth&&(this.extraPremium=this.maxPreForCurrentMonth)},selectedPlan:function(o){var s;this.selectedPlan===((s=this.currentService)===null||s===void 0?void 0:s.plan_id)&&this.pleaseUpgradeNotExtend&&console.log("\u8349")},"purchaseType.type":function(o){console.log("===> new purchase type: "+o)}},mounted:function(){var o,s,d;this.selectedCate&&this.$scrollTo("#plan",this.$config.scrollTo.delay,{offset:-200}),this.showPromo=((o=this.user)===null||o===void 0||(s=o.extra)===null||s===void 0?void 0:s.email_verified)||((d=this.user)===null||d===void 0?void 0:d.id)<1e3,this.promoCode&&this.checkPromoCode()},beforeDestroy:function(){this.paymentPoll&&clearInterval(this.paymentPoll),this.expireTimeout&&clearTimeout(this.expireTimeout)},methods:{popWarning:function(){return this.purchaseType.alert?this.$confirm(this.$t("".concat(this.purchaseType.warning,".content")),this.$t("".concat(this.purchaseType.warning,".title")),{customClass:"serious-alert",cancelButtonText:this.$t("".concat(this.purchaseType.warning,".cancelButtonText")),cancelButtonClass:"danger",confirmButtonText:this.$t("".concat(this.purchaseType.warning,".confirmButtonText")),confirmButtonClass:"primary",closeOnPressEscape:!1,closeOnClickModal:!1,type:"warning"}):null},switchDataOrPlan:function(){this.selectedTime=this.selectedTime?0:12,this.selectedPlan=this.selectedCate==="allplatform"?4:6},confirmPriceWithServer:function(o){return this.$store.dispatch("confirmPrice",{userId:this.user.id,opt:{dry_run:o,plan_id:this.extraPremiumDataMode?"pre":this.selectedPlan,promocode:this.promoCode,buy_length:this.extraPremiumDataMode?this.extraPremium:this.selectedTime,all_pre:this.allPre}})},afterSuccessPayment:function(){var o=this;return this.$alert(this.$t("billing.wait_for_payment.suc"),this.$t("billing.wait_for_payment.paid"),{confirmButtonText:this.$t("billing.confirm"),type:"success",closeOnHashChange:!0,closeOnPressEscape:!0,closeOnClickModal:!1,callback:function(){var s=Object(M.a)(regeneratorRuntime.mark(function b(){return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return o.$notify({type:"success",title:o.$t("billing.wait_for_payment.suc")}),console.log("stop polling...."),o.paymentPoll&&clearInterval(o.paymentPoll),j.prev=3,j.next=6,o.reloadUserData({showMessage:!0});case 6:j.next=10;break;case 8:j.prev=8,j.t0=j.catch(3);case 10:case"end":return j.stop()}},b,null,[[3,8]])}));function d(){return s.apply(this,arguments)}return d}()}).catch(function(){})},pay:function(){var o=this;return Object(M.a)(regeneratorRuntime.mark(function s(){var d,b,w,j,E,H,A,X,J;return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!o.requireBilling){P.next=3;break}if((d=o.user.billing)!==null&&d!==void 0&&d.country){P.next=3;break}return P.abrupt("return",o.showBillingEditor=!0);case 3:if(o.mode!=="topUp"){P.next=5;break}return P.abrupt("return",o.invokePayment());case 5:if(o.agreedToAll){P.next=7;break}return P.abrupt("return",o.$notify({type:"warning",title:o.$t("pricing.agreements.not_met")}));case 7:if(!o.purchaseType.alert){P.next=26;break}return P.prev=8,P.next=11,o.popWarning();case 11:if(o.purchaseType.warning!=="buy_two_months"){P.next=15;break}o.selectedTime=2,P.next=21;break;case 15:if(o.purchaseType.warning!=="please_upgrade_not_extend"){P.next=19;break}o.selectedCate==="allplatform"?o.selectedPlan=4:o.selectedPlan=6,P.next=21;break;case 19:if(o.purchaseType.warning!=="downgrade"){P.next=21;break}return P.abrupt("return");case 21:P.next=26;break;case 23:P.prev=23,P.t0=P.catch(8),console.log("alright. whatever.");case 26:return P.prev=26,o.confirming=!0,P.next=30,o.confirmPriceWithServer(!0);case 30:b=P.sent,console.log("oriConfirmedInfo is:",b),b.ori_rmb_amount=b.rmb_amount,b.ori_eur_amount=b.eur_amount,w=(b.eur_amount*100-o.balance*100)/100,w>0&&w<1&&(w=1),b.eur_amount=w,b.all_pre=b.all_pre||!1,o.confirmedInfo=b,o.confirming=!1,P.next=49;break;case 42:if(P.prev=42,P.t1=P.catch(26),o.confirming=!1,console.log("1. going to alert!!!",P.t1),((j=P.t1.data)===null||j===void 0?void 0:j.message)!=="invalidPromo"){P.next=48;break}return P.abrupt("return",o.$alert(o.$t("invalid_promo"),((H=P.t1.data)===null||H===void 0?void 0:H.message)||P.t1.data,{confirmButtonText:o.$t("ok")}).catch(function(){}));case 48:return P.abrupt("return",o.$alert(((E=P.t1.data)===null||E===void 0?void 0:E.message)||P.t1.data).catch(function(){}));case 49:if(console.log("this.balance is",o.balance),console.log("this.confirmedInfo",o.confirmedInfo),!(o.confirmedInfo.user_balance>=o.confirmedInfo.fee)){P.next=64;break}return P.prev=52,P.next=55,o.confirmPriceWithServer(!1);case 55:return P.abrupt("return",o.afterSuccessPayment());case 58:if(P.prev=58,P.t2=P.catch(52),console.log("2. going to alert!!!",P.t2),!((A=P.t2.data)!==null&&A!==void 0&&(X=A.message)!==null&&X!==void 0&&X.startsWith("moneyNotEnough"))){P.next=63;break}return P.abrupt("return",o.invokePayment());case 63:o.$alert(((J=P.t2.data)===null||J===void 0?void 0:J.message)||P.t2.data||P.t2,{confirmButtonText:o.$t("ok")}).catch(function(){});case 64:return P.abrupt("return",o.invokePayment());case 65:case"end":return P.stop()}},s,null,[[8,23],[26,42],[52,58]])}))()},invokePayment:function(){switch(this.trackEvents(),this.selectedPaymentMethod.name){case"alipay_pc":return this.pingppCheckout("alipay_pc_direct");case"alipay_mobile":return this.pingppCheckout("alipay_wap");case"yaband_wechat":return this.yabandPay("Wechat");case"yaband_alipay":return this.yabandPay("Alipay");case"stripe_card":return this.stripeCheckout("card");case"stripe_alipay":return this.stripeCheckout("Alipay");case"stripe_wechat":return this.stripeCheckout("Wechat");case"stripe_ideal":return this.stripeCheckout("iDEAL");case"paypal":return this.paypalCheckout("paypal");case"paymentwall":return this.paymentwallCheckout();case"paymentwall_cc":return this.paymentwallCheckout("cc")}},paymentwallCheckout:function(o){var s=this;console.log("paymentwallCheckout:",o),this.confirming=!0,this.showCurrencyWarning=!1;var d=this;this.currency="eur";var b={ps:o||"unionpay"};if(this.mode==="buyService")b=_(_({},b),{},{amount:d.confirmedInfo.eur_amount,eur:d.confirmedInfo.eur_amount,auto_buy:d.confirmedInfo.user_req.plan_id,auto_buy_month:Number(d.confirmedInfo.buy_length),auto_buy_promo:d.confirmedInfo.user_req.promocode,all_pre:d.confirmedInfo.user_req.all_pre});else if(this.mode==="topUp"){var w=this.calcTopupFee();b=_(_({},b),{},{amount:w,eur:w})}this.showCurrencyWarning=!0,this.$store.dispatch("createPaymentwall",b).then(function(j){console.log(j),s.openSite(j.directLink||j.redirect);var E={channel:"paymentwall",id:j.id,alternativeLink:j.redirect||null};d.waitForPayment(!1,E)}).catch(this.paymentError).finally(function(){d.confirming=!1})},paypalCheckout:function(o){var s=this;console.log("paypalCheckout:",o),this.confirming=!0,this.showCurrencyWarning=!1;var d=this;this.currency="eur";var b;if(this.mode==="buyService")b={amount:d.confirmedInfo.eur_amount,eur:d.confirmedInfo.eur_amount,auto_buy:d.confirmedInfo.user_req.plan_id,auto_buy_month:Number(d.confirmedInfo.buy_length),auto_buy_promo:d.confirmedInfo.user_req.promocode,all_pre:d.confirmedInfo.user_req.all_pre};else if(this.mode==="topUp"){var w=this.calcTopupFee();b={amount:w,eur:w}}this.$store.dispatch("createPaypal",b).then(function(j){s.openSite(j.redirect);var E={channel:"paypal",id:j.orderID};d.waitForPayment(!1,E)}).catch(this.paymentError).finally(function(){d.confirming=!1})},stripeCheckout:function(o){var s=this;console.log("stripeCheckout:",o),this.confirming=!0,this.showCurrencyWarning=!1;var d=this;if(this.currency="eur",["card","iDEAL"].includes(o))return this.payWithCard(o);var b;if(this.mode==="buyService")b={amount:d.confirmedInfo.eur_amount,eur:d.confirmedInfo.eur_amount,auto_buy:d.confirmedInfo.user_req.plan_id,auto_buy_month:Number(d.confirmedInfo.buy_length),auto_buy_promo:d.confirmedInfo.user_req.promocode,all_pre:d.confirmedInfo.user_req.all_pre};else if(this.mode==="topUp"){var w=this.calcTopupFee();b={amount:w,eur:w}}this.showCurrencyWarning=!0,this.$store.dispatch("createStripe"+o,b).then(function(j){j.qr_code_url?(d.confirmedInfo.qr_url=j.qr_code_url,d.showQr=!0):s.openSite(j.url);var E={channel:"stripe_".concat(o).toLowerCase(),id:j.source_id};d.waitForPayment(j.qr_code_url,E)}).catch(this.paymentError).finally(function(){d.confirming=!1})},handleCharge:function(o){var s="https://mapi.alipay.com/gateway.do",d={}.hasOwnProperty,b=o.channel,w=o.credential[b],j=s;d.call(w,"channel_url")&&(j=w.channel_url),d.call(w,"_input_charset")||d.call(w,"service")&&w.service==="create_direct_pay_by_user"&&(w._input_charset="utf-8");var E=this.$utils.stringifyData(w,b,!0);return j+"?"+E},pingppCheckout:function(o){var s=this;return Object(M.a)(regeneratorRuntime.mark(function d(){var b,w,j,E;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return s.confirming=!0,s.showCurrencyWarning=!1,s.currency="rmb",s.mode==="buyService"?b={money:s.confirmedInfo.rmb_amount,rmb_amount:s.confirmedInfo.rmb_amount,amount:s.confirmedInfo.rmb_amount,auto_buy:s.confirmedInfo.user_req.plan_id,auto_buy_month:Number(s.confirmedInfo.buy_length),auto_buy_promo:s.confirmedInfo.user_req.promo_code,all_pre:s.confirmedInfo.user_req.all_pre,channel:o}:s.mode==="topUp"&&(w=s.calcTopupFee(),b={channel:o,money:s.$utils.eurToRmb(w),amount:s.$utils.eurToRmb(w)}),A.prev=4,A.next=7,s.$store.dispatch("pingppCheckout",b);case 7:j=A.sent,["alipay_pc_direct","alipay_wap"].includes(o)?s.openSite(s.handleCharge(j)):s.confirmedInfo.qr_url=j.credential.alipay_qr,E={channel:"pingxx",id:j.id},s.waitForPayment(o==="alipay_qr",E),A.next=16;break;case 13:A.prev=13,A.t0=A.catch(4),s.paymentError(A.t0);case 16:s.confirming=!1;case 17:case"end":return A.stop()}},d,null,[[4,13]])}))()},logout:function(){var o=this;this.$confirm(this.$t("settings_page.logout.warning.content"),this.$t("settings_page.logout.warning.title"),{confirmButtonText:this.$t("settings_page.logout.warning.title"),cancelButtonText:this.$t("service_selector.cancel"),type:"warning"}).then(function(){o.$store.dispatch("session/logout"),o.$notify({type:"success",title:o.$t("settings_page.logout.suc"),position:"top-right"}),window.location.reload()},function(){})},checkPaymentStatus:function(o){var s=this;this.$axios.get("".concat(o.channel,"/").concat(o.id)).then(function(d){var b=["TRADE_FINISHED","complete","completed"];if(b.includes(d.data))return clearInterval(s.paymentPoll),s.waitForPaymentConfirm&&R.a.close(),s.afterSuccessPayment()}).catch(function(d){console.log(d)})},waitForPayment:function(o,s){var d=this,b=this.$t("billing.wait_for_payment.title"),w=this.$t("billing.wait_for_payment.msg");this.paymentPoll&&clearInterval(this.paymentPoll),this.paymentPoll=setInterval(function(){d.checkPaymentStatus(s)},10*1e3);var j=15*60;if(s.time_expire&&(j=s.time_expire*1e3-new Date),this.expireTimeout&&clearTimeout(this.expireTimeout),this.expireTimeout=setTimeout(function(){d.expired=!0,d.paymentPoll&&clearInterval(d.paymentPoll),d.$alert(d.$t("billing.wait_for_payment.timeout.msg"),d.$t("billing.wait_for_payment.timeout.title"),{type:"success",confirmButtonText:d.$t("billing.wait_for_payment.confirm"),callback:function(X){}}).catch(function(){})},j*1e3),!o){var E=w;if(s.alternativeLink){var H=this.$createElement;E=H("p",null,[H("span",null,w),H("br"),H("a",{style:"color: var(--alizarin)"},this.$t("billing.do_not_scan_qr.a"))])}this.waitForPaymentConfirm=this.$confirm(E,b,{confirmButtonText:this.$t("billing.wait_for_payment.paid"),cancelButtonText:this.$t("billing.wait_for_payment.cancel"),type:"success",closeOnHashChange:!0,closeOnPressEscape:!0,closeOnClickModal:!1}).then(function(){d.checkPaymentStatus(s),d.$notify({type:"success",title:d.$t("billing.wait_for_payment.waiting")})}).catch(function(){console.log("stop polling...."),d.paymentPoll&&clearInterval(d.paymentPoll)})}},payWithCard:function(o){var s=this;return Object(M.a)(regeneratorRuntime.mark(function d(){var b,w,j,E;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return console.log("use stripe checkout:",o),s.confirming=!0,s.mode==="buyService"?b={amount:s.confirmedInfo.eur_amount,eur:s.confirmedInfo.eur_amount,auto_buy:s.confirmedInfo.user_req.plan_id,auto_buy_month:Number(s.confirmedInfo.buy_length),auto_buy_promo:s.confirmedInfo.user_req.promocode,all_pre:s.confirmedInfo.user_req.all_pre,channel:o}:s.mode==="topUp"&&(w=s.calcTopupFee(),b={eur:w,amount:w,channel:o}),A.next=5,s.$store.dispatch("createStripeCheckoutSession",b);case 5:j=A.sent,console.log("ret is",j),s.confirming=!1,s.openSite(j.url),E={channel:"stripe_card",id:j.id},s.waitForPayment(!1,E);case 11:case"end":return A.stop()}},d)}))()},yabandPay:function(o){o=o.toLowerCase(),this.confirming=!0,this.showCurrencyWarning=!1;var s=this;this.currency="eur";var d;if(this.mode==="buyService")d={eur:s.confirmedInfo.eur_amount,amount:s.confirmedInfo.eur_amount,auto_buy:s.confirmedInfo.user_req.plan_id,auto_buy_month:Number(s.confirmedInfo.buy_length),auto_buy_promo:s.confirmedInfo.user_req.promocode,all_pre:s.confirmedInfo.user_req.all_pre};else if(this.mode==="topUp"){var b=this.calcTopupFee();d={amount:b,eur:b}}this.showCurrencyWarning=!0,this.$store.dispatch("createYaband",{channel:o,opt:d}).then(function(w){var j=w.url;s.confirmedInfo.qr_url=j,s.showQr=!0;var E={channel:"yaband",id:w.trade_id};s.waitForPayment(j,E)}).catch(this.paymentError).finally(function(){s.confirming=!1})},paymentError:function(o){var s,d,b;console.log(o);var w=((s=o.response)===null||s===void 0||(d=s.data)===null||d===void 0?void 0:d.message)||((b=o.response)===null||b===void 0?void 0:b.data);this.$notify({type:"error",title:o.status>=500?this.$t("server_error"):this.$t("errors.".concat(w,".title")),message:this.$t("errors.".concat(w,".message"))})},calcTopupFee:function(){var o=Number(this.topUpAmount);return o<1?1:o},trackEvents:function(){!this.$ga||(this.$ga.event("UserActions","createPayment-".concat(this.mode),"paymentMethod",this.selectedPaymentMethod.name),this.mode==="buyService"?(this.$ga.event("UserActions","placeOrder","cate",this.selectedCate),this.selectedTime>0?(this.$ga.event("UserActions","placeOrder","planId",this.selectedPlan),this.$ga.event("UserActions","placeOrder","buyLength",this.selectedTime)):(this.$ga.event("UserActions","placeOrder","planId","extraPremiumData"),this.$ga.event("UserActions","placeOrder","premiumDataAmount",this.extraPremium))):(this.$ga.event("UserActions","placeOrder","cate","topUp"),this.$ga.event("UserActions","placeOrder","topUpAmount",this.calcTopupFee())))},upgradePlan:function(){this.selectedPlan=4,this.selectedTime=1},showBilling:function(){this.showBillingEditor=!0,this.$scrollTo("#billing",this.$config.scrollTo.delay,{offset:-200})}}},I=C,G=e(1310),V=e(1312),Z=e(51),K=Object(Z.a)(I,a,u,!1,null,"2afe867a",null),Q=v.default=K.exports;installComponents(K,{PricingPageTopUp:e(1299).default,PricingPageCateOptions:e(1297).default,PricingPageTimeOptions:e(1300).default,PricingPagePlanOptions:e(1301).default,PricingPagePremiumData:e(1302).default,PricingPagePaymentOptions:e(1298).default,PricingPageAgreements:e(1303).default,PricingPageFeeBreakdown:e(1470).default,BillingModal:e(1151).default})}}]);
