(window.webpackJsonp=window.webpackJsonp||[]).push([[33,9,10,22,23,24,25,26,27],{1129:function(c,v,t){var r=t(1135);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("78a5912f",r,!0,{sourceMap:!1})},1130:function(c,v,t){"use strict";t.r(v);var r=function(){var a=this,u=a.$createElement,m=a._self._c||u;return m("div",{directives:[{name:"loading",rawName:"v-loading",value:a.updating,expression:"updating"}],staticClass:"updatebilling-container"},[m("el-row",{attrs:{gutter:10}},[a.showHead?m("el-col",{attrs:{span:24}},[m("center",[m("h5",[m("i",{staticClass:"el-icon-question"}),m("span",[a._v(a._s(a.$t("update_billing.sub.a")))])])])],1):a._e(),m("el-form",{attrs:{"label-position":"right","label-width":"80px",model:a.newbilling},nativeOn:{submit:function(x){return x.preventDefault(),a.onSubmit.apply(null,arguments)}}},[m("el-col",{attrs:{span:12}},[m("p",[a._v(a._s(a.$t("update_billing.form.firstname"))+a._s(a.personalNameRequired))]),m("el-input",{attrs:{type:"text",placeholder:a.$t("update_billing.form.firstname")},model:{value:a.newbilling.firstname,callback:function(x){a.$set(a.newbilling,"firstname",x)},expression:"newbilling.firstname"}})],1),m("el-col",{attrs:{span:12}},[m("p",[a._v(a._s(a.$t("update_billing.form.lastname"))+a._s(a.personalNameRequired))]),m("el-input",{attrs:{type:"text",placeholder:a.$t("update_billing.form.lastname")},model:{value:a.newbilling.lastname,callback:function(x){a.$set(a.newbilling,"lastname",x)},expression:"newbilling.lastname"}})],1),m("el-col",{attrs:{span:24}},[m("p",[a._v(a._s(a.$t("update_billing.form.addr")))]),m("el-input",{attrs:{type:"text",placeholder:a.$t("update_billing.form.addr")},model:{value:a.newbilling.addr,callback:function(x){a.$set(a.newbilling,"addr",x)},expression:"newbilling.addr"}})],1),m("el-col",{attrs:{span:12}},[m("p",[a._v(a._s(a.$t("update_billing.form.city")))]),m("el-input",{attrs:{type:"text",placeholder:a.$t("update_billing.form.city")},model:{value:a.newbilling.city,callback:function(x){a.$set(a.newbilling,"city",x)},expression:"newbilling.city"}})],1),m("el-col",{attrs:{span:12}},[m("p",[a._v(a._s(a.$t("update_billing.form.state")))]),m("el-input",{attrs:{type:"text",placeholder:a.$t("update_billing.form.state")},model:{value:a.newbilling.state,callback:function(x){a.$set(a.newbilling,"state",x)},expression:"newbilling.state"}})],1),m("el-col",{attrs:{span:12}},[m("p",[a._v(a._s(a.$t("update_billing.form.zip")))]),m("el-input",{attrs:{type:"text",placeholder:a.$t("update_billing.form.zip")},model:{value:a.newbilling.zip,callback:function(x){a.$set(a.newbilling,"zip",x)},expression:"newbilling.zip"}})],1),m("el-col",{attrs:{span:12}},[m("p",[a._v(a._s(a.$t("update_billing.form.country")))]),m("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("update_billing.form.country")},model:{value:a.newbilling.country,callback:function(x){a.$set(a.newbilling,"country",x)},expression:"newbilling.country"}},a._l(a.countryList,function(x){return m("el-option",{key:x,attrs:{label:x,value:x}})}),1)],1),a.newbilling.company_name||a.inputCompanyInfo?m("div",[m("el-col",{attrs:{span:24}},[m("p",[a._v(a._s(a.$t("update_billing.form.company_name"))+"*")]),m("el-input",{attrs:{type:"text",placeholder:a.$t("update_billing.form.company_name")},model:{value:a.newbilling.company_name,callback:function(x){a.$set(a.newbilling,"company_name",x)},expression:"newbilling.company_name"}})],1),m("el-col",{attrs:{span:24}},[m("p",[a._v(a._s(a.$t("update_billing.form.company_vat")))]),m("el-input",{attrs:{type:"text",placeholder:a.$t("update_billing.form.company_vat")},model:{value:a.newbilling.company_vat,callback:function(x){a.$set(a.newbilling,"company_vat",x)},expression:"newbilling.company_vat"}})],1)],1):a._e()],1)],1),a.vatRate?m("div",{staticClass:"eu-hint"},[m("h5",{staticClass:"warning"},[a._v(a._s(a.$t("billing.eu_hint")))])]):a._e(),m("el-button",{staticClass:"full-width save-button",attrs:{type:"success",size:"small"},on:{click:function(x){return a.updateBilling()}}},[a._v(a._s(a.$t("update_billing.save")))]),m("br"),m("el-row",{attrs:{justify:"space-between",align:"middle"}},[m("el-col",{attrs:{span:12,align:"start"}},[a.inputCompanyInfo||a.newbilling.company_name?a._e():m("el-link",{staticClass:"success",attrs:{plain:"",type:"success"},on:{click:function(x){a.inputCompanyInfo=!0}}},[a._v(a._s(a.$t("billing.input_company_info")))])],1),a.showDelete?m("el-col",{attrs:{span:12,align:"end"}},[m("el-link",{staticClass:"warning",attrs:{type:"warning"},on:{click:function(x){return a.delBilling()}}},[a._v(a._s(a.$t("update_billing.del")))])],1):a._e()],1),m("el-row",{staticClass:"explain"},[m("h5",[a._v("- "+a._s(a.$t("update_billing.sub.a")))]),m("h5",[a._v("- "+a._s(a.$t("update_billing.sub.b")))]),m("h5",[a._v("- "+a._s(a.$t("update_billing.sub.d")))]),m("br"),m("h5",[a._v(a._s(a.$t("update_billing.sub.e")))])])],1)},d=[],T=t(62),D=t(40),k=t(27),F=t(39),R=t(75),I=t(6),B=t(15),e=t(23),g=t(9),_=t(206),$=t(19),z=t(63),W=t(76),G=t(207),f=t(1133);function S(a,u){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(a);u&&(x=x.filter(function(O){return Object.getOwnPropertyDescriptor(a,O).enumerable})),m.push.apply(m,x)}return m}function j(a){for(var u=1;u<arguments.length;u++){var m=arguments[u]!=null?arguments[u]:{};u%2?S(Object(m),!0).forEach(function(x){Object($.a)(a,x,m[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):S(Object(m)).forEach(function(x){Object.defineProperty(a,x,Object.getOwnPropertyDescriptor(m,x))})}return a}var N={middleware:["load-rt-data","authenticated"],props:{showHead:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},saved:{type:Function,default:null}},data:function(){return{newbilling:{firstname:"",lastname:"",addr:"",city:"",state:"",zip:"",country:"China",company_name:"",company_vat:""},euList:G,countryList:f,updating:!1,inputCompanyInfo:!1}},computed:{personalNameRequired:function(){return this.inputCompanyInfo?"":"*"},vatReverseCharge:function(){return!!(this.newbilling.company_vat&&this.newbilling.country!=="Netherlands")},vatRate:function(){var u=0;return this.euList.includes(this.newbilling.country)&&(u=.21,this.vatReverseCharge&&(u=0)),u}},mounted:function(){var u;if(document.addEventListener("keydown",this.escHandler,!1),(u=this.$store.state.user.billing)!==null&&u!==void 0&&u.country){console.log("Init billing address as user's billing.",this.user.billing);for(var m=j({},this.$store.state.user.billing),x=0,O=Object.entries(m);x<O.length;x++){var A=Object(B.a)(O[x],2),L=A[0],H=A[1];m[L]=unescape(H.trim())}this.newbilling=m,this.newbilling.country||(console.log("setting default country to China"),this.newbilling.country="China")}},beforeDestroy:function(){document.removeEventListener("keydown",this.escHandler)},methods:{updateBilling:function(){var u=this;return Object(I.a)(regeneratorRuntime.mark(function m(){var x,O,A,L,H,q,Q,V,X,n;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:x=["firstname","lastname","country","addr","city"],O=0,A=x;case 2:if(!(O<A.length)){s.next=11;break}if(L=A[O],!(!u.newbilling[L]||!u.newbilling[L].trim())){s.next=8;break}if(!((H=u.newbilling.company_name)!==null&&H!==void 0&&H.trim()&&["firstname","lastname"].includes(L))){s.next=7;break}return s.abrupt("continue",8);case 7:return s.abrupt("return",u.$message({message:u.$t("update_billing.incomplete"),type:"warning"}));case 8:O++,s.next=2;break;case 11:if(u.countryList.includes(u.newbilling.country)){s.next=13;break}return s.abrupt("return",u.$message({message:"\u65E0\u6CD5\u8BC6\u522B\u7684\u56FD\u5BB6\u540D\u79F0\uFF0C\u8BF7\u91CD\u65B0\u9009\u62E9\u3002",type:"warning"}));case 13:return s.prev=13,u.updating=!0,s.next=17,u.$store.dispatch("updateBilling",j({},u.newbilling));case 17:q=s.sent,console.log("ret:",q),u.$notify({title:u.$t("update_billing.saved"),type:"success"}),u.updating=!1,u.saved&&u.saved(),s.next=29;break;case 24:s.prev=24,s.t0=s.catch(13),console.log("failed:",(Q=s.t0.response)===null||Q===void 0||(V=Q.data)===null||V===void 0?void 0:V.message),u.$notify({title:u.$t("update_billing.save_failed"),message:u.$t("billing.".concat((X=s.t0.response)===null||X===void 0||(n=X.data)===null||n===void 0?void 0:n.message)),type:"error"}),u.updating=!1;case 29:case"end":return s.stop()}},m,null,[[13,24]])}))()},delBilling:function(){var u=this;this.$confirm(this.$t("warning.confirm_delete"),this.$t("warning.title"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("service_selector.cancel"),type:"warning"}).then(function(){u.updating=!0,u.$store.dispatch("updateBilling",{}).then(function(){u.$notify({title:u.$t("update_billing.deleted"),type:"success"}),u.newbilling={}}).catch(function(m){var x,O;u.$notify({title:u.$t("update_billing.delete_error"),message:u.$t("billing.".concat((x=m.response)===null||x===void 0||(O=x.data)===null||O===void 0?void 0:O.message)),type:"error"})}).finally(function(){u.updating=!1})}).catch(function(){})}}},K=N,Y=t(1134),b=t(51),o=Object(b.a)(K,r,d,!1,null,null,null),p=v.default=o.exports},1131:function(c,v,t){var r=t(1143);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("c5990654",r,!0,{sourceMap:!1})},1132:function(c,v,t){var r=t(1145);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("7ab33336",r,!0,{sourceMap:!1})},1133:function(c){c.exports=JSON.parse(`["Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Cameroon","Canada","Cape Verde","Cayman Islands","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Cook Islands","Costa Rica","C\xF4te d'Ivoire, Republic of","Croatia","Cura\xE7ao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Falkland Islands (Islas Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern and Antarctic Lands","Gabon","Gambia, The","Georgia","Germany","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Republic of","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, Republic of","Madagascar","Malawi","Malaysia","Maldives","Malta","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova","Monaco","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Palau","Papua New Guinea","Paraguay","Peru","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","R\xE9union","Romania","Russian Federation","Rwanda","Saint Barth\xE9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","South Africa","South Georgia and South Sandwich Islands","Spain","Sri Lanka","Suriname","Swaziland","Sweden","Switzerland","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Vietnam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Zambia"]`)},1134:function(c,v,t){"use strict";var r=t(1129),d=t.n(r)},1135:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".updatebilling-container{position:relative}.updatebilling-container p{margin-top:.5rem!important;font-weight:700!important}.updatebilling-container .el-input{padding-left:0!important;width:100%!important;margin-top:.1rem!important}.updatebilling-container .el-input input{text-align:left!important;border:1px solid #95a5a6;padding:.2rem!important;color:#4d4d4d;font-size:1rem!important}.updatebilling-container .el-input input:focus,.updatebilling-container .el-input input:hover{border-color:#1abc9c}.updatebilling-container .el-card{margin-bottom:.6rem;background:#34495e;border:none}.updatebilling-container .el-card .subtitle{color:#f4f7fc;font-weight:500}.updatebilling-container .el-card.set-item .el-icon-arrow-down{transform:rotate(0deg);transition:transform .15s linear}.updatebilling-container .el-card.set-item .el-icon-arrow-down.open{transform:rotate(-180deg);transition:transform .15s linear}.updatebilling-container .el-card.set-item a i{padding-top:.3rem}.updatebilling-container .el-card.set-item a h2{color:#bdc3c7;margin-bottom:.1rem}.updatebilling-container .el-card.set-item .el-radio:not(.is-checked) .el-radio__label{color:#bdc3c7}.updatebilling-container .el-card__body{padding:1rem}.updatebilling-container .save-button{margin-bottom:1rem;margin-top:1rem;padding:1rem .5rem;font-size:1.1rem}.updatebilling-container .dashboard-link{position:fixed;right:.5rem;bottom:.5rem}.updatebilling-container .explain{margin-top:1rem}.updatebilling-container .el-link--success .el-link--inner{color:var(--logo-green)!important}.updatebilling-container .el-link--warning .el-link--inner{color:var(--warning-yellow)!important}.updatebilling-container .eu-hint{padding-top:1rem;text-align:right}",""]),c.exports=d},1142:function(c,v,t){"use strict";var r=t(1131),d=t.n(r)},1143:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".billingModal[data-v-32c06148]{z-index:9999}",""]),c.exports=d},1144:function(c,v,t){"use strict";var r=t(1132),d=t.n(r)},1145:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".billingModal .el-dialog__body{padding:15px;padding-top:0!important}.billingModal .el-dialog{padding-top:1.5rem!important}",""]),c.exports=d},1150:function(c,v,t){"use strict";t.r(v);var r=function(){var e=this,g=e.$createElement,_=e._self._c||g;return _("el-dialog",{staticClass:"serviceCateSelector billingModal",attrs:{title:e.$t("billing.modal.title"),visible:e.modalVisible,center:"",width:"100%","append-to-body":!0,fullscreen:!0,"close-on-press-escape":!1,"show-close":!0},on:{close:e.updateParentSwitchVal}},[_("Billing",{attrs:{showDelete:e.showDelete,showHead:e.showHead,saved:e.updateParentSwitchVal}})],1)},d=[],T={name:"ServiceSelector",props:{modalVisible:{type:Boolean,default:!1},callback:{type:Function,default:null},showHead:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0}},watch:{modalVisible:function(g,_){console.log(g,_)}},beforeDestroy:function(){this.updateParentSwitchVal()},methods:{updateParentSwitchVal:function(){this.callback&&this.callback(),this.$emit("update:modalVisible",!1)},sendReturn:function(g){this.callback(g),this.updateParentSwitchVal()}}},D=T,k=t(1142),F=t(1144),R=t(51),I=Object(R.a)(D,r,d,!1,null,"32c06148",null),B=v.default=I.exports;installComponents(I,{Billing:t(1130).default})},1152:function(c,v,t){var r=t(1187);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("59a07c57",r,!0,{sourceMap:!1})},1153:function(c,v,t){var r=t(1191);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("c1a608c2",r,!0,{sourceMap:!1})},1154:function(c,v,t){var r=t(1193);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("042a2b44",r,!0,{sourceMap:!1})},1155:function(c,v,t){var r=t(1195);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("724433a5",r,!0,{sourceMap:!1})},1156:function(c,v,t){var r=t(1197);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("2fe740fd",r,!0,{sourceMap:!1})},1157:function(c,v,t){var r=t(1199);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("3eb93276",r,!0,{sourceMap:!1})},1158:function(c,v,t){var r=t(1201);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("0e1ba5d2",r,!0,{sourceMap:!1})},1159:function(c,v,t){var r=t(1203);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("48d419b1",r,!0,{sourceMap:!1})},1186:function(c,v,t){"use strict";var r=t(1152),d=t.n(r)},1187:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".top-up[data-v-c47b9d38],.top-up input[data-v-c47b9d38]{text-align:center}.top-up input[data-v-c47b9d38]{font-size:2rem;border:none;border-bottom:1px solid var(--secondary-color);border-radius:0;background:transparent;color:var(--primary-color);width:120px}@media (max-width:768px){.top-up input[data-v-c47b9d38]{width:120px}}",""]),c.exports=d},1188:function(c,v,t){c.exports=t.p+"img/Youku_logo.0836930.svg"},1189:function(c,v){c.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xNDcgLTE3My4zIDQ3MCA0OTIuMyIgd2lkdGg9IjIzMTciIGhlaWdodD0iMjUwMCIgeG1sbnM6dj0iaHR0cHM6Ly92ZWN0YS5pby9uYW5vIj48bGluZWFyR3JhZGllbnQgaWQ9IkEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iODgiIHgyPSI4OCIgeTE9IjMxOSIgeTI9Ii0xNTEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZiYmUwYSIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZlZGEyNCIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iODgiIGN5PSI4NCIgZmlsbD0idXJsKCNBKSIgcj0iMjM1Ii8+PHBhdGggZD0iTTEyMy44IDEwNGwtMTcuMS0yMy44TDQyLTkuMS44LTY1LjZDLTMuNC03MS4yLTMuOS03Ny4xLTItODMuNWMzLjktMTMuMyAxMy4yLTIyLjUgMjQuMi0zMC4xIDIwLjEtMTMuOSA0Mi44LTIxIDY2LjYtMjUuMiAyMC43LTMuNiA0MS4yLTggNTkuMy0xOS40IDQuOS0zLjEgOS03LjMgMTMuNS0xMSAxLjItMSAyLjMtMi4xIDQuNi00LjEgMS41IDcuMyAzIDEzLjQgNCAxOS41IDMgMTggMS45IDM1LjUtNi4yIDUyLjEtMTEgMjIuNC0yOSAzNi40LTUyLjYgNDMuNkM5Ny01My41IDgyLjEtNTIuNCA2Ny01Mi41Yy0xLjEgMC0yLjIuMy00LjEuNWwxMC42IDE4LjUgNDMuNCA3MS4yIDQ3LjQgNzguNiAxMi40IDIwLjVjOS4zIDE2IDE2LjEgMzIuNyAxNC44IDUxLjktMS4zIDE4LjgtOC4xIDM1LjItMTkuOCA0OS42LTE5LjEgMjMuNS00My45IDM3LjEtNzMuNSA0Mi40LTI3LjkgNC45LTU0LjUgMS44LTc5LjItMTIuMy0yNy44LTE1LjgtNDUuNi00NC41LTQxLjQtNzguNyAyLjctMjIuNSAxMy45LTQxLjEgMzAuNC01Ni40IDE3LjYtMTYuMiAzOC41LTI2LjEgNjEuOC0zMC42IDE3LjItMy40IDM0LjQtMy4yIDUxLjQgMS40LjUuMSAxLjEtLjEgMi42LS4xeiIgZmlsbD0iIzBkYWY1MiIvPjwvc3ZnPg=="},1190:function(c,v,t){"use strict";var r=t(1153),d=t.n(r)},1191:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".site-icons img[data-v-3574acc6],.site-icons svg[data-v-3574acc6]{margin:.25rem;height:1.2rem;width:auto}#netease[data-v-3574acc6]{color:#e60026}#netease path[data-v-3574acc6]{fill:#e60026}h2[data-v-3574acc6]{font-size:26px;line-height:32px;display:block;margin:0 auto .5rem}@media (max-width:768px){h2[data-v-3574acc6]{font-size:28px;line-height:34px}}h3.detail[data-v-3574acc6]{color:var(--secondary-color);font-weight:500;font-size:1rem;margin-bottom:.5rem}.el-tag.top-right[data-v-3574acc6]{position:absolute;right:20px;top:20px;font-size:11px;border-radius:15px;color:var(--black)}.cate-option .el-card[data-v-3574acc6]{width:100%;position:relative;margin-bottom:1rem}",""]),c.exports=d},1192:function(c,v,t){"use strict";var r=t(1154),d=t.n(r)},1193:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".discount-warning[data-v-01d2d394]{margin-top:.5rem;text-align:left}.discount-warning p[data-v-01d2d394]{font-size:.8rem;color:var(--secondary-color)}",""]),c.exports=d},1194:function(c,v,t){"use strict";var r=t(1155),d=t.n(r)},1195:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".select-time{padding-bottom:2rem}@media screen and (max-width:768px){.select-time .time-option h3{font-size:.8rem}.select-time .time-option .el-card__body{padding:20px 3px}}",""]),c.exports=d},1196:function(c,v,t){"use strict";var r=t(1156),d=t.n(r)},1197:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,'.subheader[data-v-511922c1],b[data-v-511922c1],span[data-v-511922c1]{color:var(--primary-color)}.price-table[data-v-511922c1]{max-width:100%}.price-table .el-tag[data-v-511922c1]{position:absolute;right:20px;top:20px;font-size:11px;border-radius:15px;color:var(--black)}.price-table .el-button[data-v-511922c1],.price-table .el-link[data-v-511922c1]{margin-top:20px;padding:10px 50px;font-size:20px}.price-table .el-col[data-v-511922c1]{display:flex;justify-content:flex-end;justify-items:end}@media (min-width:768px){.price-table .el-col[data-v-511922c1]:first-of-type{transform:scale(1.01);margin-right:1rem}}.price-table .el-card[data-v-511922c1]{width:100%;position:relative}@media screen and (max-width:768px){.price-table .el-card[data-v-511922c1]{margin-bottom:1rem}}.price-table h2[data-v-511922c1]{font-size:1.5rem}.price-table .pricetag *[data-v-511922c1]{text-align:center}.price-table .pricetag h1[data-v-511922c1]{margin-top:1.3rem;font-size:2.5rem}.price-table .pricetag h1 small[data-v-511922c1]{font-size:1rem;font-weight:400;color:var(--secondary-color);margin:0 5px}.price-table .content[data-v-511922c1]{width:320px;margin:.5rem auto;text-align:left}.price-table .content h5[data-v-511922c1]{padding-left:20px;font-weight:500;font-size:14px;width:100%;position:relative;display:block;margin:10px 0}.price-table .content h5[data-v-511922c1],.price-table .content h5 span[data-v-511922c1]{color:var(--secondary-color)}.price-table .content h5[data-v-511922c1]:before{content:"\\e6da";font-family:"element-icons"!important;position:absolute;left:0;top:0}.price-table .content h5.plus[data-v-511922c1]:before{content:"\\e79c";font-family:"element-icons"!important;position:absolute;left:0;top:0}.hints[data-v-511922c1]{margin-top:1rem;margin-bottom:2rem}',""]),c.exports=d},1198:function(c,v,t){"use strict";var r=t(1157),d=t.n(r)},1199:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".extra-premium input[data-v-d3b460f6]{font-size:26px;margin:0 10px;text-align:center;padding:10px 0;width:100px;border:none;background:transparent;color:var(--primary-color);border-bottom:.5px solid var(--secondary-color)}.extra-premium input[data-v-d3b460f6]::focus{border:none}.extra-premium .explain[data-v-d3b460f6]{text-align:left}.extra-premium .explain ul li[data-v-d3b460f6]{color:var(--secondary-color)}@media (max-width:768px){.extra-premium h2[data-v-d3b460f6]{font-size:20px!important}.extra-premium input[data-v-d3b460f6]{font-szie:20px!important}}.purchase-input[data-v-d3b460f6]{display:flex;align-items:center;justify-content:center}.purchase-input input[data-v-d3b460f6]{display:flex}.hint-for-basic[data-v-d3b460f6]{margin-bottom:2rem}.hint-for-basic h5[data-v-d3b460f6]{font-weight:400;color:var(--secondary-color)}b[data-v-d3b460f6]{color:var(--primary-color)}",""]),c.exports=d},1200:function(c,v,t){"use strict";var r=t(1158),d=t.n(r)},1201:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".agreements[data-v-4380e6c4]{text-align:left}.agreements p[data-v-4380e6c4]{font-size:.8rem}.agree-all[data-v-4380e6c4]{text-align:center;margin-top:.6rem}.agree-all .el-link[data-v-4380e6c4]{font-size:1rem}",""]),c.exports=d},1202:function(c,v,t){"use strict";var r=t(1159),d=t.n(r)},1203:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,".agreements .el-checkbox__inner{width:.8rem;height:.8rem}",""]),c.exports=d},1241:function(c,v,t){var r=t(1299);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("417c041a",r,!0,{sourceMap:!1})},1242:function(c,v,t){var r=t(1301);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[c.i,r,""]]),r.locals&&(c.exports=r.locals);var d=t(2).default,T=d("1b5c3377",r,!0,{sourceMap:!1})},1286:function(c,v,t){"use strict";t.r(v);var r=function(){var f=this,S=f.$createElement,j=f._self._c||S;return j("el-row",{attrs:{gutter:5,justify:"space-between",align:"middle",type:"flex"}},[j("el-col",{staticClass:"cate-option",attrs:{md:12}},[j("el-card",{staticClass:"select-mark",class:{selected:f.selectedCate==="allplatform"},attrs:{shadow:"hover"},nativeOn:{click:function(N){return f.selectCate("allplatform")}}},[j("h2",[f._v(f._s(f.$t("allplatform")))]),f.loggedIn&&f.serviceFound("allplatform")?j("el-tag",{staticClass:"hide-for-small top-right",class:[f.serviceFound("allplatform").content],attrs:{type:f.serviceFound("allplatform").type,size:"mini"}},[j("span",[f._v(f._s(f.$t(f.serviceFound("allplatform").content)))])]):f._e(),j("h3",{staticClass:"detail"},[f._v(f._s(f.$t("services.allplatform.desc")))]),j("h4",{staticClass:"site-icons"},[j("Twitter"),j("Facebook"),j("YouTube")],1),j("el-link",{staticClass:"choose",attrs:{type:"success",plain:""}},[f._v(f._s(f.$t("pricing.choose")))])],1)],1),j("el-col",{staticClass:"cate-option",attrs:{md:12}},[j("el-card",{staticClass:"select-mark",class:{selected:f.selectedCate==="home"},attrs:{shadow:"hover"},nativeOn:{click:function(N){return f.selectCate("home")}}},[j("h2",[f._v(f._s(f.$t("home")))]),f.loggedIn&&f.serviceFound("home")?j("el-tag",{staticClass:"hide-for-small top-right",class:[f.serviceFound("home").content],attrs:{type:f.serviceFound("home").type,size:"mini"}},[j("span",[f._v(f._s(f.$t(f.serviceFound("home").content)))])]):f._e(),j("h3",{staticClass:"detail"},[f._v(f._s(f.$t("services.home.desc")))]),j("h4",{staticClass:"site-icons"},[j("img",{staticClass:"youku",attrs:{src:t(1188),loading:"lazy"}}),j("Netease",{attrs:{id:"netease"}}),j("img",{staticClass:"qq-music",attrs:{src:t(1189),loading:"lazy"}})],1),j("el-link",{staticClass:"choose",attrs:{type:"success",plain:""}},[f._v(f._s(f.$t("pricing.choose")))])],1)],1)],1)},d=[],T=function(){var f=this,S=f.$createElement,j=f._self._c||S;return j("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 209"}},[j("path",{pre:!0,attrs:{d:"M256 25.45c-9.42 4.177-19.542 7-30.166 8.27c10.845-6.5 19.172-16.793 23.093-29.057a105.183 105.183 0 0 1-33.351 12.745C205.995 7.201 192.346.822 177.239.822c-29.006 0-52.523 23.516-52.523 52.52c0 4.117.465 8.125 1.36 11.97c-43.65-2.191-82.35-23.1-108.255-54.876c-4.52 7.757-7.11 16.78-7.11 26.404c0 18.222 9.273 34.297 23.365 43.716a52.312 52.312 0 0 1-23.79-6.57c-.003.22-.003.44-.003.661c0 25.447 18.104 46.675 42.13 51.5a52.592 52.592 0 0 1-23.718.9c6.683 20.866 26.08 36.05 49.062 36.475c-17.975 14.086-40.622 22.483-65.228 22.483c-4.24 0-8.42-.249-12.529-.734c23.243 14.902 50.85 23.597 80.51 23.597c96.607 0 149.434-80.031 149.434-149.435c0-2.278-.05-4.543-.152-6.795A106.748 106.748 0 0 0 256 25.45",fill:"#55acee"}})])},D={render:T,name:"logos-twitter"},k=function(){var f=this,S=f.$createElement,j=f._self._c||S;return j("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256"}},[j("path",{pre:!0,attrs:{d:"M241.871 256.001c7.802 0 14.129-6.326 14.129-14.129V14.129C256 6.325 249.673 0 241.871 0H14.129C6.324 0 0 6.325 0 14.129v227.743c0 7.803 6.324 14.129 14.129 14.129h227.742",fill:"#395185"}}),j("path",{pre:!0,attrs:{d:"M176.635 256.001v-99.137h33.277l4.982-38.635h-38.259V93.561c0-11.186 3.107-18.809 19.148-18.809l20.459-.009V40.188c-3.54-.471-15.684-1.523-29.812-1.523c-29.498 0-49.692 18.005-49.692 51.071v28.493h-33.362v38.635h33.362v99.137h39.897",fill:"#FFF"}})])},F={render:k,name:"logos-facebook"},R=function(){var f=this,S=f.$createElement,j=f._self._c||S;return j("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 180"}},[j("path",{pre:!0,attrs:{d:"M250.346 28.075A32.18 32.18 0 0 0 227.69 5.418C207.824 0 127.87 0 127.87 0S47.912.164 28.046 5.582A32.18 32.18 0 0 0 5.39 28.24c-6.009 35.298-8.34 89.084.165 122.97a32.18 32.18 0 0 0 22.656 22.657c19.866 5.418 99.822 5.418 99.822 5.418s79.955 0 99.82-5.418a32.18 32.18 0 0 0 22.657-22.657c6.338-35.348 8.291-89.1-.164-123.134z",fill:"red"}}),j("path",{pre:!0,attrs:{fill:"#FFF",d:"M102.42 128.06l66.329-38.418l-66.328-38.418z"}})])},I={render:R,name:"logos-youtube-icon"},B=function(){var f=this,S=f.$createElement,j=f._self._c||S;return j("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"}},[j("path",{pre:!0,attrs:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10zm-1.086-10.432c.24-.84 1.075-1.541 1.99-1.648c.187.694.388 1.373.545 2.063c.053.23.037.495-.018.727c-.213.892-1.248 1.242-1.978.685c-.53-.405-.742-1.12-.539-1.827zm3.817-.197c-.125-.465-.256-.927-.393-1.42c.5.13.908.36 1.255.698c1.257 1.221 1.385 3.3.294 4.731c-1.135 1.49-3.155 2.134-5.028 1.605c-2.302-.65-3.808-2.952-3.441-5.316c.274-1.768 1.27-3.004 2.9-3.733c.407-.182.58-.56.42-.93c-.157-.364-.54-.504-.944-.343c-2.721 1.089-4.32 4.134-3.67 6.987c.713 3.118 3.495 5.163 6.675 4.859c1.732-.165 3.164-.948 4.216-2.347c1.506-2.002 1.297-4.783-.463-6.499c-.666-.65-1.471-1.018-2.39-1.153c-.083-.013-.217-.052-.232-.106c-.087-.313-.18-.632-.206-.954c-.029-.357.29-.64.65-.645c.253-.003.434.13.603.3c.303.3.704.322.988.062c.29-.264.296-.678.018-1.008c-.566-.672-1.586-.891-2.43-.523c-.847.37-1.321 1.187-1.2 2.093c.038.28.11.557.167.842l-.26.072a3.863 3.863 0 0 0-2.098 1.414c-.921 1.22-.936 2.828-.041 3.947c1.274 1.594 3.747 1.284 4.523-.568c.284-.676.275-1.368.087-2.065z",fill:"currentColor"}})])},e={render:B,name:"ri-netease-cloud-music-fill"},g={name:"PricingPageCateOptions",components:{Twitter:D,Facebook:F,YouTube:I,Netease:e},props:{value:{type:String,default:"allplatform"}},data:function(){return{}},computed:{selectedCate:function(){return this.value},loggedIn:function(){return this.$store.state.session.loggedIn}},methods:{selectCate:function(S){this.$emit("input",S),console.log("new cate:",S),this.$scrollTo("#plan",this.$config.scrollTo.delay,{offset:-200})},serviceFound:function(S){var j=this.$store.state.service[S],N=j?j.status==="on"?"using":"been_used":"never",K={using:"success",been_used:"warning",never:"info"};return{content:N,type:K[N]}}}},_=g,$=t(1190),z=t(51),W=Object(z.a)(_,r,d,!1,null,"3574acc6",null),G=v.default=W.exports},1287:function(c,v,t){"use strict";t.r(v);var r=function(){var e=this,g=e.$createElement,_=e._self._c||g;return _("div",{staticClass:"topup"},[_("h2",[e._v(e._s(e.$t("pricing.topup"))+" \u20AC"),_("input",{directives:[{name:"model",rawName:"v-model",value:e.topUpAmount,expression:"topUpAmount"}],attrs:{type:"number",min:"1",step:"1"},domProps:{value:e.topUpAmount},on:{input:function($){$.target.composing||(e.topUpAmount=$.target.value)}}})])])},d=[],T=t(205),D={name:"PricingPageTopUp",props:{value:{type:Number,default:20}},data:function(){return{topUpAmount:20}},watch:{topUpAmount:function(g){if(g>=1)return this.$emit("input",Number(g));this.topUpAmount=1}}},k=D,F=t(1186),R=t(51),I=Object(R.a)(k,r,d,!1,null,"c47b9d38",null),B=v.default=I.exports},1288:function(c,v,t){"use strict";t.r(v);var r=function(){var g=this,_=g.$createElement,$=g._self._c||_;return $("div",{staticClass:"select-time",attrs:{gutter:5,type:"flex",align:"bottom",justify:"start"}},[$("el-row",{staticClass:"main"},[["new_buy","extend"].includes(g.purchaseType.type)?$("el-col",{attrs:{xs:24,md:21}},[$("el-row",{attrs:{gutter:5}},[g.selectedCate?$("el-col",{staticClass:"time-option",attrs:{xs:7,md:5,span:5}},[$("el-card",{staticClass:"select-mark",class:{selected:g.selectedTime===1},attrs:{shadow:"hover"},nativeOn:{click:function(z){return g.selectTime(1)}}},[$("h3",[g._v(g._s(g.$t("pricing.monthly")))])])],1):g._e(),g.selectedCate?$("el-col",{staticClass:"time-option",attrs:{xs:10,md:7,span:7}},[$("el-card",{staticClass:"select-mark",class:{selected:g.selectedTime===12},attrs:{shadow:"hover"},nativeOn:{click:function(z){return g.selectTime(12)}}},[$("el-badge",{attrs:{value:g.$t("pricing.20off")}},[$("h3",[g._v(g._s(g.$t("pricing.anually")))])])],1)],1):g._e(),g.selectedCate?$("el-col",{staticClass:"time-option",attrs:{xs:7,md:5,span:5}},[$("el-card",{staticClass:"select-mark",class:{selected:g.selectedTime===6},attrs:{shadow:"hover"},nativeOn:{click:function(z){return g.selectTime(6)}}},[$("el-badge",{attrs:{value:g.$t("pricing.10off")}},[$("h3",[g._v(g._s(g.$t("pricing.semi_anual")))])])],1)],1):g._e()],1)],1):g._e()],1),["new_buy","extend"].includes(g.purchaseType.type)&&g.selectedTime>=6&&g.selectedCate?$("el-row",{staticClass:"discount-warning",attrs:{xs:24}},[$("p",[g._v(g._s(g.$t("pricing.warning.e")))])]):g._e()],1)},d=[],T=t(205),D={name:"PringPageTimeOptions",props:{selectedCate:{type:String,default:"allplatform"},purchaseType:{type:Object,default:function(){}},selectedPlan:{type:[Number,String],default:4},value:{type:Number,default:12}},computed:{selectedTime:function(){return this.value}},methods:{selectTime:function(_){this.$emit("input",_),this.$scrollTo("#plan-list",this.$config.scrollTo.delay,{offset:-200})}}},k=D,F=t(1192),R=t(1194),I=t(51),B=Object(I.a)(k,r,d,!1,null,"01d2d394",null),e=v.default=B.exports},1289:function(c,v,t){"use strict";t.r(v);var r=function(){var e=this,g=e.$createElement,_=e._self._c||g;return _("div",[e.selectedCate==="allplatform"?_("div",{staticClass:"price-table"},[_("el-row",[_("el-col",{attrs:{xs:{span:24,offset:0},md:10}},[_("el-card",{staticClass:"select-mark",class:{selected:e.selectedPlan===4},attrs:{shadow:"hover"},nativeOn:{click:function($){return e.selectPlan(4)}}},[_("h2",[e._v(e._s(e.$t("plan_names.4")))]),e.currentService.status==="on"&&e.currentPlanId===4?_("el-tag",{attrs:{type:"success",size:"mini"}},[e._v(e._s(e.$t("current_plan")))]):e._e(),_("div",{staticClass:"pricetag"},[_("h1",[_("small",[e._v("\u20AC")]),e._v(e._s(e.calcPrice(e.feeList["4"]))),_("small",[e._v("/"+e._s(e.$t("month")))])])]),_("div",{staticClass:"content"},[_("h5",[_("span",{staticClass:"subheader thin",attrs:{popover:'$t("buy_premium_data.all_pre_condition")',"popover-trigger":"mouseenter","popover-placement":"bottom"}},[_("b",{staticClass:"underline"},[e._v(e._s(e.$t("unlimited_nor_quota")))])]),e._v(" + 40GB "+e._s(e.$t("service.pre")))]),_("h5",[e._v(e._s(e.$t("plan_desc.current_use"))+" "),_("b",{staticClass:"underline"},[e._v("5")]),e._v(" "+e._s(e.$t("plan_desc.devices")))]),_("h5",[_("b",[e._v(e._s(e.$t("plan_desc.everything_in_basic2")))])]),_("el-divider",[e._v(e._s(e.$t("plan_desc.extras")))]),_("h5",{staticClass:"plus"},[e._v(e._s(e.$t("plan_desc.pro_only_server")))]),_("h5",{staticClass:"plus"},[e._v(e._s(e.$t("plan_desc.pro_qos")))]),_("h5",{staticClass:"plus"},[e._v(e._s(e.$t("plan_desc.remote_support")))]),_("h5",{staticClass:"plus"},[e._v(e._s(e.$t("plan_desc.new_protocol")))]),_("h5",{staticClass:"plus"},[e._v(e._s(e.$t("plan_desc.pro_ticket")))])],1),_("el-button",{attrs:{type:"success",plain:""}},[e._v(e._s(e.$t("pricing.choose")))])],1)],1),_("el-col",{attrs:{xs:{span:24,offset:0},md:8}},[_("el-card",{staticClass:"select-mark",class:{selected:e.selectedPlan===2},attrs:{shadow:"hover"},nativeOn:{click:function($){return e.selectPlan(2)}}},[_("h2",[e._v(e._s(e.$t("plan_names.2")))]),e.currentService.extra&&(e.currentService.status==="on"||e.currentService.extra.buy_length>1)&&e.currentPlanId===2?_("el-tag",{attrs:{type:"success",size:"mini"}},[e._v(e._s(e.$t("current_plan")))]):e._e(),_("div",{staticClass:"pricetag"},[_("h1",[_("small",[e._v("\u20AC")]),e._v(e._s(e.calcPrice(e.feeList["2"]))),_("small",[e._v("/"+e._s(e.$t("month")))])])]),_("div",{staticClass:"content"},[_("h5",[e._v(e._s(e.$t("plan_desc.plan2_quota")))]),_("h5",[e._v(e._s(e.$t("plan_desc.current_use"))+" "),_("b",{staticClass:"underline"},[e._v("3")]),e._v(" "+e._s(e.$t("plan_desc.devices")))]),_("h5",[e._v(e._s(e.$t("plan_desc.all_devices_ready")))]),_("h5",[e._v(e._s(e.$t("plan_desc.provide"))+" "),_("b",{staticClass:"underline"},[e._v("1Gbps")]),e._v(" "+e._s(e.$t("plan_desc.china_optimized")))]),_("h5",[_("b",{staticClass:"underline"},[e._v("IEPL/IPLC")]),e._v(" "+e._s(e.$t("plan_desc.intl_line")))]),_("h5",[e._v(e._s(e.$t("plan_desc.trojan")))]),_("h5",[e._v(e._s(e.$t("plan_desc.vmess")))]),_("h5",[e._v(e._s(e.$t("plan_desc.ssltide")))])]),_("el-button",{attrs:{type:"info",plain:""}},[e._v(e._s(e.$t("pricing.choose")))])],1)],1)],1)],1):e._e(),e.selectedCate==="home"?_("div",{staticClass:"price-table"},[_("el-row",[_("el-col",{attrs:{xs:{span:24,offset:0},md:10}},[_("el-card",{staticClass:"select-mark",class:{selected:e.selectedPlan===6},attrs:{shadow:"hover"},nativeOn:{click:function($){return e.selectPlan(6)}}},[_("h2",[e._v(e._s(e.$t("plan_names.6")))]),e.currentPlanId===6?_("el-tag",{attrs:{type:"success",size:"mini"}},[e._v(e._s(e.$t("current_plan")))]):e._e(),_("div",{staticClass:"pricetag"},[_("h1",[_("small",[e._v("\u20AC")]),e._v(e._s(e.calcPrice(e.feeList["6"]))),_("small",[e._v("/"+e._s(e.$t("month")))])])]),_("div",{staticClass:"content"},[_("h5",[_("b",[e._v(e._s(e.$t("plan_desc.plan6_quota")))])]),_("h5",[e._v(" "+e._s(e.$t("plan_desc.current_use"))+" "),_("b",{staticClass:"underline"},[e._v("5")]),e._v(" "+e._s(e.$t("plan_desc.devices")))]),_("h5",[_("b",[e._v(e._s(e.$t("plan_desc.everything_in_basic5")))])]),_("el-divider",[e._v(e._s(e.$t("plan_desc.extras")))]),_("h5",{staticClass:"plus"},[e._v(e._s(e.$t("plan_desc.pro_qos")))]),_("h5",{staticClass:"plus"},[e._v(e._s(e.$t("plan_desc.remote_support")))]),_("h5",{staticClass:"plus"},[e._v(e._s(e.$t("plan_desc.new_protocol")))]),_("h5",{staticClass:"plus"},[e._v(e._s(e.$t("plan_desc.pro_ticket")))])],1),_("el-button",{attrs:{type:"success",plain:""}},[e._v(e._s(e.$t("pricing.choose")))])],1)],1),_("el-col",{attrs:{xs:{span:24,offset:0},md:8}},[_("el-card",{staticClass:"select-mark",class:{selected:e.selectedPlan===5},attrs:{shadow:"hover"},nativeOn:{click:function($){return e.selectPlan(5)}}},[_("h2",[e._v(e._s(e.$t("plan_names.5")))]),e.currentPlanId===5?_("el-tag",{attrs:{type:"success",size:"mini"}},[e._v(e._s(e.$t("current_plan")))]):e._e(),_("div",{staticClass:"pricetag"},[_("h1",[_("small",[e._v("\u20AC")]),e._v(e._s(e.calcPrice(e.feeList["5"]))),_("small",[e._v("/"+e._s(e.$t("month")))])])]),_("div",{staticClass:"content"},[_("h5",[e._v(e._s(e.$t("plan_desc.plan5_quota")))]),_("h5",[e._v(e._s(e.$t("plan_desc.current_use"))+" "),_("b",{staticClass:"underline"},[e._v("3")]),e._v(" "+e._s(e.$t("plan_desc.devices")))]),_("h5",[e._v(e._s(e.$t("plan_desc.all_devices_ready")))]),_("h5",[e._v(e._s(e.$t("plan_desc.anyconnect")))]),_("h5",[e._v(e._s(e.$t("plan_desc.ssltide")))])]),_("el-button",{attrs:{type:"info",plain:""}},[e._v(e._s(e.$t("pricing.choose")))])],1)],1)],1)],1):e._e(),_("el-row",{staticClass:"hints"},[e.selectedCate?_("h4",{staticClass:"amount-currency-hint"},[e._v(e._s(e.$t("pricing.prices_shown"))),_("span",[e._v(e._s(e.$t("eur")))])]):e._e(),e.selectedCate?_("h4",{staticClass:"otp"},[e._v(e._s(e.$t("pricing.one-time-payment")))]):e._e()])],1)},d=[],T=t(205),D={name:"PricingPagePlanOptions",props:{currentPlanId:{type:Number,default:4},selectedCate:{type:String,default:"allplatform"},currentService:{type:Object,default:function(){}},selectedTime:{type:Number,default:12},value:{type:Number,default:4}},computed:{selectedPlan:function(){return this.value},discount:function(){switch(this.selectedTime){case 12:return 10/12;case 6:return 5.5/6;default:return 1}},feeList:function(){return console.log("feeList in plan options:",this.$config.feeList),this.$config.feeList}},methods:{calcPrice:function(g){return Math.floor(g*this.discount*10)/10},selectPlan:function(g){this.$emit("input",g),console.log("new plan:",g),this.$scrollTo("#payment",this.$config.scrollTo.delay,{offset:-200})}}},k=D,F=t(1196),R=t(51),I=Object(R.a)(k,r,d,!1,null,"511922c1",null),B=v.default=I.exports},1290:function(c,v,t){"use strict";t.r(v);var r=function(){var o=this,p=o.$createElement,a=o._self._c||p;return a("div",{staticClass:"extra-premium"},[o.canBuyExtraPremiumForOtherMonth?a("div",[o.canBuyExtraForThisMonth&&!o.model.allPre?a("h2",{staticClass:"purchase-input"},[o._v(o._s(o.$t("pricing.to_buy"))),a("input",{directives:[{name:"model",rawName:"v-model",value:o.model.extraPremium,expression:"model.extraPremium"}],attrs:{type:"range",disabled:o.model.allPre,min:"1",step:"1",max:o.maxPreForCurrentMonth},domProps:{value:o.model.extraPremium},on:{__r:function(u){return o.$set(o.model,"extraPremium",u.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:o.model.extraPremium,expression:"model.extraPremium"}],attrs:{type:"number",disabled:o.model.allPre,min:"1",step:"1",max:o.maxPreForCurrentMonth},domProps:{value:o.model.extraPremium},on:{input:function(u){u.target.composing||o.$set(o.model,"extraPremium",u.target.value)}}}),o._v("GB "+o._s(o.$t("service.pre")))]):o._e(),a("el-row",{staticClass:"hint-for-basic",attrs:{type:"flex",align:"middle",justify:"center"}},[a("el-col",{attrs:{md:9,xs:24}},[o.currentService.plan_id===2?a("h5",[o._v(o._s(o.$tc("pricing.premium_data.basic_price",o.$config.feeList.pre2))),a("br"),a("span",[o._v(o._s(o.$tc("pricing.premium_data.basic_hint",o.$config.feeList.pre4)))]),a("br"),a("el-link",{attrs:{type:"success"},on:{click:o.upgradePlan}},[o._v(o._s(o.$t("service_details.upgrade")))])],1):a("h5",[o._v(o._s(o.$tc("pricing.premium_data.pre_hint",o.$config.feeList.pre4)))])])],1),o.currentService.plan_id!==2&&o.canBuyExtraForThisMonth&&!o.model.allPre?a("h4",{staticClass:"subheader"},[Number(o.model.extraPremium)===o.maxPreForCurrentMonth?a("span",[o._v(o._s(o.$tc("pricing.max_premium_hint",o.maxPreForCurrentMonth)))]):a("span",[o._v(o._s(o.$tc("pricing.max_premium_hint2",o.maxPreForCurrentMonth-(o.model.extraPremium||0))))])]):o._e(),o.currentService.plan_id!==2&&o.currentService.extra.buy_length-o.currentAllPre?a("div",[o.currentAllPre>1?a("p",[o._v(o._s(o.$tc("pricing.already_unlimited_for",o.currentAllPre)))]):o._e(),a("el-checkbox",{staticClass:"all-pre-check",model:{value:o.model.allPre,callback:function(u){o.$set(o.model,"allPre",u)},expression:"model.allPre"}},[a("b",[o._v(o._s(o.$tc("pricing.get_extra_for",o.currentService.extra.buy_length-o.currentAllPre)))])])],1):o._e()],1):a("div",[a("h2",{staticClass:"subheader"},[o._v(o._s(o.$t("pricing.already_unlimited")))]),o.currentAllPre>1?a("p",[o._v(o._s(o.$tc("pricing.already_unlimited_for",o.currentAllPre)))]):o._e()]),a("el-divider"),a("div",{staticClass:"explain"},[a("ul",[o.currentService.plan_id===4?a("li",[o._v(o._s(o.$t("pricing.extra_premium_explain.c")))]):o._e(),a("li",[o._v(o._s(o.$t("pricing.extra_premium_explain.d")))])])])],1)},d=[],T=t(62),D=t(40),k=t(27),F=t(23),R=t(39),I=t(205),B=t(19),e=t(24),g=t(25),_=t(9),$=t(75),z=t(6),W=t(52);function G(o,p){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);p&&(u=u.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),a.push.apply(a,u)}return a}function f(o){for(var p=1;p<arguments.length;p++){var a=arguments[p]!=null?arguments[p]:{};p%2?G(Object(a),!0).forEach(function(u){Object(B.a)(o,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(a,u))})}return o}var S={name:"PricingPagePremiumData",props:{currentService:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}}},data:function(){return{model:{alreadyBought:0,extraPremium:10,allPre:!1,maxPreForCurrentMonth:100,currentAllPre:0}}},fetch:function(){var p=this;return Object(z.a)(regeneratorRuntime.mark(function a(){var u,m;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!((u=p.user)!==null&&u!==void 0&&u.id)){O.next=14;break}return O.prev=1,O.next=4,p.$store.dispatch("getAlreadyBoughtPremiumData",{userId:p.user.id});case 4:m=O.sent,console.log("alreadyBought: "+m.toString()),p.model.alreadyBought=m,console.log(p.model.alreadyBought),O.next=14;break;case 10:O.prev=10,O.t0=O.catch(1),console.log("fetch alreadyBought failed: "+O.t0),p.$sentry.captureException(O.t0);case 14:case"end":return O.stop()}},a,null,[[1,10]])}))()},computed:f({currentAllPre:function(){var p,a;return((p=this.currentService)===null||p===void 0||(a=p.extra)===null||a===void 0?void 0:a.all_pre)||0},canBuyExtraPremiumForOtherMonth:function(){var p,a,u,m;return((p=this.currentService)===null||p===void 0||(a=p.extra)===null||a===void 0?void 0:a.buy_length)>(((u=this.currentService)===null||u===void 0||(m=u.extra)===null||m===void 0?void 0:m.all_pre)||0)},canBuyExtraForThisMonth:function(){var p,a;return(p=this.currentService)!==null&&p!==void 0&&(a=p.extra)!==null&&a!==void 0&&a.all_pre?!1:this.maxPreForCurrentMonth>0},maxPreForCurrentMonth:function(){var p,a;if(((p=this.currentService)===null||p===void 0?void 0:p.plan_id)===2)return 999999999999;var u=((a=this.model.alreadyBought)===null||a===void 0?void 0:a.allplatform)||0;return 100-u}},Object(W.b)({user:function(p){return p.user}})),watch:{maxPreForCurrentMonth:function(p){this.model.maxPreForCurrentMonth=p},currentAllPre:function(p){this.model.currentAllPre=p},model:function(p){console.log("new premiumOptions:",p),this.$emit("input",f(f({},p),{},{extraPremium:Number(p.extraPremium)}))},"model.extraPremium":function(p){p>this.maxPreForCurrentMonth&&(this.model.extraPremium=this.maxPreForCurrentMonth)}},mounted:function(){console.log("premium module loaded."),this.$emit("input",this.model)}},j=S,N=t(1198),K=t(51),Y=Object(K.a)(j,r,d,!1,null,"d3b460f6",null),b=v.default=Y.exports},1291:function(c,v,t){"use strict";t.r(v);var r=function(){var b=this,o=b.$createElement,p=b._self._c||o;return p("div",{staticClass:"agreements"},[b._l(b.agreements,function(a){return(!a.planId||a.planId===b.selectedPlan)&&(!a.cate||a.cate===b.selectedCate)?p("p",{key:a.label},[a.tooltip?p("el-tooltip",{attrs:{content:b.$t(a.tooltip),placement:"top"}},[p("el-checkbox",{model:{value:a.checked,callback:function(u){b.$set(a,"checked",u)},expression:"option.checked"}},[p("p",[b._v(b._s(b.$t(a.label)))])])],1):p("el-checkbox",{model:{value:a.checked,callback:function(u){b.$set(a,"checked",u)},expression:"option.checked"}},[p("p",[b._v(b._s(b.$t(a.label)))])])],1):b._e()}),p("p",{staticClass:"agree-all"},[p("el-link",{attrs:{type:"success"},on:{click:b.agreeAll}},[b._v(b._s(b.$t("pricing.agreements.agree_all")))])],1)],2)},d=[],T=t(49),D=t(27),k=t(48),F=t(47),R=t(28),I=t(24),B=t(25),e=t(9),g=t(41),_=t(205);function $(b,o){var p=typeof Symbol!="undefined"&&b[Symbol.iterator]||b["@@iterator"];if(!p){if(Array.isArray(b)||(p=z(b))||o&&b&&typeof b.length=="number"){p&&(b=p);var a=0,u=function(){};return{s:u,n:function(){return a>=b.length?{done:!0}:{done:!1,value:b[a++]}},e:function(L){throw L},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,x=!1,O;return{s:function(){p=p.call(b)},n:function(){var L=p.next();return m=L.done,L},e:function(L){x=!0,O=L},f:function(){try{!m&&p.return!=null&&p.return()}finally{if(x)throw O}}}}function z(b,o){if(!!b){if(typeof b=="string")return W(b,o);var p=Object.prototype.toString.call(b).slice(8,-1);if(p==="Object"&&b.constructor&&(p=b.constructor.name),p==="Map"||p==="Set")return Array.from(b);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return W(b,o)}}function W(b,o){(o==null||o>b.length)&&(o=b.length);for(var p=0,a=new Array(o);p<o;p++)a[p]=b[p];return a}var G={name:"PricingPageAgreements",props:{selectedCate:{type:String,default:"allplatform"},selectedPlan:{type:[Number,String],default:4},agreeAllTrigger:{type:Boolean,default:!1}},data:function(){return{agreements:[{label:"pricing.agreements.tos",checked:!1},{label:"pricing.agreements.non_political",checked:!1},{label:"pricing.agreements.ios_app",checked:!1,cate:"allplatform"},{label:"pricing.agreements.no_sharing",checked:!1},{label:"pricing.agreements.data_cap",checked:!1,planId:4,tooltip:"pricing.warning.c"},{label:"pricing.agreements.ban_country",checked:!1,cate:"home"}]}},computed:{agreedToAll:function(){var o=$(this.agreements),p;try{for(o.s();!(p=o.n()).done;){var a=p.value;if(!(a.planId&&a.planId!==this.selectedPlan)&&!(a.cate&&a.cate!==this.selectedCate)&&!a.checked)return!1}}catch(u){o.e(u)}finally{o.f()}return!0}},watch:{agreedToAll:function(o){this.$emit("input",o)},agreeAllTrigger:function(o){console.log("triggering agree all"),this.agreeAll()}},methods:{agreeAll:function(){var o=$(this.agreements),p;try{for(o.s();!(p=o.n()).done;){var a=p.value;a.checked=!0}}catch(u){o.e(u)}finally{o.f()}}}},f=G,S=t(1200),j=t(1202),N=t(51),K=Object(N.a)(f,r,d,!1,null,"4380e6c4",null),Y=v.default=K.exports},1298:function(c,v,t){"use strict";var r=t(1241),d=t.n(r)},1299:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,"#pricing[data-v-9f0527fe]{padding-top:2rem}.el-container .el-checkbox__label[data-v-9f0527fe]{width:60px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.el-container[data-v-9f0527fe]{margin:0 auto;padding:0 10px;display:flex;justify-content:center;width:100%;max-width:var(--secondary-max-width);text-align:center}.el-container main[data-v-9f0527fe]{width:100%;margin:0 auto 16px;color:var(--primary-color);max-width:var(--primary-max-width)}.el-container section[data-v-9f0527fe]{justify-content:center;align-items:center;text-align:center;flex-flow:row wrap}.el-container section .extra-option[data-v-9f0527fe]{text-align:right}@media (max-width:768px){.el-container section .extra-option[data-v-9f0527fe]{padding-right:10px}.el-container section .extra-option .el-button span[data-v-9f0527fe]{font-size:.8rem}.el-container section .extra-option .el-link[data-v-9f0527fe]{margin-bottom:20px}}.el-container section .extra-option .el-link[data-v-9f0527fe]{font-size:20px}.el-container section .el-col[data-v-9f0527fe]{margin-bottom:20px}.el-container section[data-v-9f0527fe]:not(.el-container section.intro){max-width:var(--primary-max-width)}.el-container section h1[data-v-9f0527fe]{font-size:36px;line-height:46px;margin:0 auto;display:block;text-align:left;color:var(--primary-color);font-weight:500}@media (max-width:768px){.el-container section h1[data-v-9f0527fe]{font-size:22px;line-height:25px}}.el-container section .title h1 span[data-v-9f0527fe]{--size:40px;padding:5px;font-size:var(--size);line-height:var(--size);margin-right:5px;color:var(--midnight-blue);background:var(--primary-color);border-radius:99px;width:var(--size);box-sizing:content-box;display:inline-block;text-align:center}@media (max-width:768px){.el-container section .title h1 span[data-v-9f0527fe]{--size:30px}}.el-container section.intro[data-v-9f0527fe]{text-align:left;margin-bottom:60px}.el-container section.intro h1[data-v-9f0527fe]{font-weight:500;font-size:45px;max-width:100%;margin-bottom:20px}@media (max-width:768px){.el-container section.intro h1[data-v-9f0527fe]{font-size:30px;word-wrap:break-word}.el-container section.intro h1 span[data-v-9f0527fe]{display:block;margin-top:10px;font-size:25px}}.el-container section.intro h2[data-v-9f0527fe],.el-container section.intro h3[data-v-9f0527fe]{font-weight:300;color:var(--secondary-color)}.el-container section.intro h3[data-v-9f0527fe]{cursor:pointer}.el-row[data-v-9f0527fe]{flex-flow:row wrap}.el-link.choose[data-v-9f0527fe]{margin-top:10px;font-size:15px}.center[data-v-9f0527fe],.el-divider[data-v-9f0527fe]{text-align:center!important}.el-divider[data-v-9f0527fe]{width:80%;margin-left:auto;margin-right:auto}.el-button.pay[data-v-9f0527fe]{margin:20px auto 0;padding:1rem;font-size:1.4rem;display:block;width:100%}.xueshu-warning[data-v-9f0527fe]{margin-top:20px}.xueshu-warning h1[data-v-9f0527fe]{font-weight:700!important;color:var(--carrot)!important;margin-bottom:20px!important}.xueshu-warning h3[data-v-9f0527fe]{font-weight:500;white-space:pre-wrap;word-wrap:break-word}.all-pre-check[data-v-9f0527fe]{font-size:1.5rem;justify-content:center;vertical-align:middle}.all-pre-check b[data-v-9f0527fe]{font-size:1.5rem;color:var(--primary-color)}.all-pre-check .el-checkbox__input[data-v-9f0527fe]{align-self:center}.all-pre-check .el-checkbox__input *[data-v-9f0527fe]{font-size:1.5rem}.hint-for-basic[data-v-9f0527fe]{text-align:center}#pre-order[data-v-9f0527fe]{padding:auto 0;margin-top:0}#pre-order .el-col[data-v-9f0527fe]{margin-bottom:0}.payment-method[data-v-9f0527fe]{margin-top:.5rem}.dashboard-link[data-v-9f0527fe]{position:fixed;right:.5rem;bottom:.5rem}.review-order-link[data-v-9f0527fe]{position:fixed;left:.5rem;bottom:.5rem}",""]),c.exports=d},1300:function(c,v,t){"use strict";var r=t(1242),d=t.n(r)},1301:function(c,v,t){var r=t(1),d=r(!1);d.push([c.i,'#pricing .el-card{background:#34495e}#pricing .el-card.select-mark{background-color:var(--card-bg);cursor:pointer}#pricing .el-card.select-mark:hover{border:1px solid var(--logo-green)}#pricing .el-card.select-mark.normal{cursor:default}#pricing .el-card.select-mark.selected{border:2px solid var(--logo-green)!important;box-shadow:var(--card-box-shadow)!important;position:relative}#pricing .el-card.select-mark.selected:after{content:"\\e6da";font-family:"element-icons"!important;position:absolute;bottom:5px;right:10px;color:var(--logo-green);font-size:20px;font-weight:700}#pricing h1,#pricing h2,#pricing h3,#pricing h4,#pricing h5,#pricing p{color:var(--primary-color)}#pricing .qr-modal{max-width:500px;margin:0 auto}@media (max-width:768px){#pricing .qr-modal{max-width:100%}}#pricing .el-badge__content{right:5px;top:-5px}@media (max-width:768px){#pricing .el-badge__content{right:26px;top:-8px}}.agreements{margin-top:1rem}.step-row{margin-bottom:1rem}.go-confrim{position:-webkit-sticky;position:sticky;z-index:99;bottom:35px;width:100%;padding:1rem;font-size:1.2rem;box-shadow:0 2px 20px rgba(0,0,0,.7)}',""]),c.exports=d},1471:function(c,v,t){"use strict";t.r(v);var r=function(){var n=this,i=n.$createElement,s=n._self._c||i;return s("el-container",{attrs:{id:"pricing"}},[s("main",[s("el-steps",{staticClass:"step-row",attrs:{active:n.currentStage,"align-center":"",simple:"","finish-status":"success",space:.5}},[s("el-step",{attrs:{title:n.$t("pricing.select_options")},nativeOn:{click:function(l){n.currentStage=0}}}),s("el-step",{attrs:{title:n.$t("pricing.confirm_options")},nativeOn:{click:function(l){n.showNextButton&&(n.currentStage=1)}}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:n.currentStage===0,expression:"currentStage === 0"}]},[n.mode==="topUp"?s("div",[s("section",{staticClass:"top-up"},[s("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("el-col",{staticClass:"title",attrs:{md:19,xs:15}},[s("h1",[s("span",[n._v("1")]),n._v(n._s(n.$t("pricing.add_credit")))])]),s("el-col",{staticClass:"extra-option",attrs:{md:5,xs:9}},[s("el-button",{staticClass:"unselectable",attrs:{plain:"",type:"rev-ghost"},on:{click:function(l){n.mode="buyService"}}},[n._v(n._s(n.$t("pricing.purchase_service")))])],1)],1),s("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("el-col",{attrs:{span:24}},[s("el-card",[s("PricingPageTopUp",{model:{value:n.topUpAmount,callback:function(l){n.topUpAmount=l},expression:"topUpAmount"}})],1)],1)],1)],1)]):n._e(),n.mode==="buyService"?s("div",[s("section",{staticClass:"select-cate",attrs:{id:"cate"}},[s("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("el-col",{staticClass:"title",attrs:{md:19,xs:12}},[s("h1",[s("span",[n._v("1")]),n._v(n._s(n.$t("pricing.choose_cate")))])]),n.hasService||n.isAdmin||n.user.id===289252?s("el-col",{staticClass:"extra-option",attrs:{md:5,xs:12}},[s("el-button",{staticClass:"unselectable",attrs:{plain:"",type:"rev-ghost"},on:{click:function(l){n.mode="topUp"}}},[n._v(n._s(n.$t("pricing.add_credit")))])],1):n._e()],1),s("PricingPageCateOptions",{attrs:{currentService:n.currentService},model:{value:n.selectedCate,callback:function(l){n.selectedCate=l},expression:"selectedCate"}})],1),s("section",{directives:[{name:"show",rawName:"v-show",value:n.selectedCate,expression:"selectedCate"}],staticClass:"select-plan",attrs:{id:"plan"}},[s("el-row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[s("el-col",{staticClass:"title",attrs:{xs:15,md:19}},[s("h1",[s("span",[n._v("2")]),n._v(n._s(n.$t(n.selectedTime>0?"pricing.choose_plan":"pricing.extra_premium")))])]),n.selectedCate==="allplatform"&&n.currentService.status==="on"?s("el-col",{staticClass:"extra-option",attrs:{xs:9,md:5}},[s("el-button",{staticClass:"unselectable",attrs:{plain:"",type:"rev-ghost"},on:{click:n.switchDataOrPlan}},[n._v(n._s(n.$t(n.extraPremiumButtonText)))])],1):n._e()],1),n.selectedTime>0?s("PricingPageTimeOptions",{attrs:{selectedCate:n.selectedCate,purchaseType:n.purchaseType,selectedPlan:n.selectedPlan},model:{value:n.selectedTime,callback:function(l){n.selectedTime=l},expression:"selectedTime"}}):n._e(),s("div",{attrs:{id:"plan-list"}},[n.selectedTime>0?s("div",[s("PricingPagePlanOptions",{attrs:{currentPlanId:n.currentPlanId,selectedCate:n.selectedCate,selectedTime:n.selectedTime,currentService:n.currentService},model:{value:n.selectedPlan,callback:function(l){n.selectedPlan=l},expression:"selectedPlan"}})],1):s("div",[s("el-card",{attrs:{shadow:"hover"}},[s("PricingPagePremiumData",{attrs:{currentService:n.currentService},model:{value:n.premiumOptions,callback:function(l){n.premiumOptions=l},expression:"premiumOptions"}})],1)],1)])],1)]):n._e(),s("el-button",{directives:[{name:"show",rawName:"v-show",value:n.showNextButton,expression:"showNextButton"}],staticClass:"go-confrim",attrs:{type:"primary"},on:{click:function(l){n.currentStage=1}}},[n._v(n._s(n.$t("pricing.next")))])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:n.currentStage===1,expression:"currentStage === 1"}]},[s("section",{staticClass:"summary",attrs:{id:"payment"}},[n.showSummary?s("el-row",{attrs:{gutter:10,type:"flex",align:"top",justify:"center"}},[s("el-col",{staticClass:"details",attrs:{md:11}},[s("el-card",{attrs:{shadow:"hover"}},[s("PricingPageFeeBreakdown",{attrs:{mode:n.mode,selectedCate:n.selectedCate,selectedTime:n.selectedTime,selectedPlan:n.selectedPlan,extraPremium:n.extraPremium,currentService:n.currentService,allPre:n.allPre,currentAllPre:n.premiumOptions.currentAllPre,maxPreForCurrentMonth:n.premiumOptions.maxPreForCurrentMonth,showPromo:n.showPromo,promoCode:n.promoCode,purchaseType:n.purchaseType,selectedPaymentMethod:n.selectedPaymentMethod,topUpAmount:n.topUpAmount},model:{value:n.localFee,callback:function(l){n.localFee=l},expression:"localFee"}},[n.showSummary?s("el-row",{staticClass:"pre-order",attrs:{id:"pre-order",type:"flex",align:"middle",justify:"center"}},[n.showPaymentMethodSelector?s("el-col",{staticClass:"payment-method",attrs:{span:24}},[s("PricingPagePaymentOptions",{attrs:{mode:n.mode,cate:n.selectedCate},model:{value:n.selectedPaymentMethod,callback:function(l){n.selectedPaymentMethod=l},expression:"selectedPaymentMethod"}},[n.requireBilling&&!n.showBillingEditor&&n.billingComplete?s("el-row",[s("el-link",{attrs:{underline:!1,plain:"",type:"info"},on:{click:n.showBilling}},[n._v(n._s(n.$t("update_billing.edit")))])],1):n._e()],1)],1):n._e(),s("el-col",{staticClass:"agreements",attrs:{span:24}},[n.needAgreement?s("PricingPageAgreements",{attrs:{selectedPlan:n.selectedPlan,selectedCate:n.selectedCate,agreeAllTrigger:n.agreeAllTrigger},model:{value:n.agreedToAll,callback:function(l){n.agreedToAll=l},expression:"agreedToAll"}}):n._e()],1),s("el-col",{attrs:{xs:24}},[s("el-button",{staticClass:"pay",attrs:{id:"pay-button",type:n.purchaseButtonType,size:"large",loading:n.confirming},on:{click:n.pay}},[n._v(n._s(n.$t("pricing."+n.purchaseType.type)))])],1)],1):n._e()],1)],1)],1)],1):n._e()],1)])],1),s("div",{staticClass:"footer"},[n.hasService?s("nuxt-link",{staticClass:"dashboard-link smooth",attrs:{to:"/dashboard/dashboard/"}},[n._v(n._s(n.$t("back")))]):n._e(),n.currentStage===1?s("a",{staticClass:"review-order-link smooth",on:{click:function(l){n.currentStage=0}}},[n._v(n._s(n.$t("price.review_order")))]):n._e()],1),s("el-dialog",{attrs:{visible:n.showQr,width:"85%",customClass:"qr-modal"},on:{"update:visible":function(l){n.showQr=l}}},[s("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("el-col",{attrs:{md:24}},[n.selectedPaymentMethod.name==="stripe_wechat"?s("a",{attrs:{href:n.confirmedInfo.qr_url}},[s("qrcode",{attrs:{value:n.confirmedInfo.qr_url}})],1):s("qrcode",{attrs:{value:n.confirmedInfo.qr_url}}),["stripe_wechat","yaband_wechat"].includes(n.selectedPaymentMethod.name)?s("p",[n._v(n._s(n.$t("pricing.stripe_wechat_qr_hint")))]):n._e()],1)],1)],1),s("BillingModal",{attrs:{modalVisible:n.showBillingEditor,callback:n.afterBillingSave},on:{"update:modalVisible":function(l){n.showBillingEditor=l},"update:modal-visible":function(l){n.showBillingEditor=l}}})],1)},d=[],T=t(62),D=t(40),k=t(27),F=t(317),R=t(4),I=t(103),B=t.n(I),e=t(28),g=t(106),_=t(75),$=t(6),z=t(23),W=t(9),G=t(39),f=t(63),S=t(76),j=t(322),N=t(19),K=t(205),Y=t(52),b=t(22),o=t.n(b),p=t(209),a=t.n(p),u=t(210),m=t.n(u);function x(n,i){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);i&&(l=l.filter(function(h){return Object.getOwnPropertyDescriptor(n,h).enumerable})),s.push.apply(s,l)}return s}function O(n){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?x(Object(s),!0).forEach(function(l){Object(N.a)(n,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(s,l))})}return n}o.a.extend(a.a),o.a.extend(m.a);var A={name:"BuyService",beforeRouteLeave:function(i,s,l){return this.paymentPoll&&clearInterval(this.paymentPoll),this.expireTimeout&&clearTimeout(this.expireTimeout),l()},middleware:["load-rt-data","authenticated","reload-raw-service-data"],data:function(){var i,s=this.$route.query.cate||null,l=null,h="";this.$route.query.promo&&(h=this.$route.query.promo),this.$route.query.plan?l=Number(this.$route.query.plan):s&&(l=s==="home"?6:4);var w="time"in this.$route.query?Number(this.$route.query.time):12;return{agreedToAll:!1,currentStage:Number(((i=this.$route.query)===null||i===void 0?void 0:i.stage)||0),showPromo:!1,afterBillingSave:null,mode:this.$route.query.mode||"buyService",selectedCate:s,selectedPlan:l,selectedTime:w,selectedPaymentMethod:{},topUpAmount:this.$route.query.amount||20,confirming:!1,showQr:!1,showBillingEditor:!1,promoCode:h,confirmedInfo:{},signModalVisible:!1,defaultState:"signup",waitForPaymentConfirm:{},agreeAllTrigger:!1,premiumOptions:{alreadyBought:0,extraPremium:10,allPre:!1,maxPreForCurrentMonth:100,currentAllPre:0},localFee:0,faqItems:[{key:"ziranyue",status:"closed"},{key:"premium_data",status:"closed"},{key:"billing",status:"closed"},{key:"daozhang",status:"closed"},{key:"xueshu",status:"closed"},{key:"gongyong",status:"closed"}]}},computed:O({showNextButton:function(){return this.mode==="topUp"?!0:this.selectedCate?(this.selectedTime===0,!0):!1},alreadyBought:function(){return Number(this.premiumOptions.alreadyBought)},extraPremium:function(){return Number(this.premiumOptions.extraPremium)},allPre:function(){return this.premiumOptions.allPre},feeList:function(){return this.$config.feeList},purchaseType:function(){var i;if(console.log("................................................................updating purchase type..."),this.mode==="topUp")return{type:"topup"};if(this.extraPremiumDataMode)return{type:"pre"};if(!this.currentPlanId){console.log("................................currentPlanId is null",this.currentPlanId);var s={};return this.askForTwoMonths&&(s.alert=!0,s.warning="buy_two_months"),O({type:"new_buy"},s)}if(((i=this.currentService)===null||i===void 0?void 0:i.status)==="off"){var l,h;if(console.log("................................is off."),console.log("................................current service is "+this.currentService),((l=this.currentService)===null||l===void 0||(h=l.extra)===null||h===void 0?void 0:h.buy_length)===1){var w={};return this.askForTwoMonths&&(w.alert=!0,w.warning="buy_two_months"),O({type:"new_buy"},w)}else return this.currentPlanId===this.selectedPlan?{type:"extend",warning:this.selectedPlan===6?"contact_cs_for_options":"please_upgrade_not_extend",alert:this.selectedPlan!==6}:this.currentPlanId<this.selectedPlan?{type:"upgrade",warning:"will_upgrade_all"}:{type:"downgrade",warning:"downgrade",alert:!0}}if(this.currentPlanId<this.selectedPlan){var P;return O({type:"upgrade"},((P=this.currentService)===null||P===void 0?void 0:P.buy_length)>1?{warning:"will_upgrade_all"}:{})}else if(this.currentPlanId>this.selectedPlan)return{type:"downgrade",warning:"downgrade",alert:!0};return{type:"extend"}},purchaseButtonType:function(){return this.purchaseType.alert?"warning":"success"},needAgreement:function(){return this.mode==="buyService"},showSummary:function(){return console.log("->>> showSummary mode",this.mode),this.mode==="topUp"?!0:this.selectedCate&&this.selectedPlan&&(this.selectedTime||this.selectedTime===0&&this.extraPremium)},askForTwoMonths:function(){return this.selectedTime===1&&o()().tz("Asia/Shanghai").date()>=15},currentService:function(){var i,s=this,l=(i=this.$store.state.rawServiceData)===null||i===void 0?void 0:i.find(function(h){return h.cate===s.selectedCate});return l||{}},currentPlanId:function(){var i;return(i=this.currentService)===null||i===void 0?void 0:i.plan_id},extraPremiumDataMode:function(){return this.selectedCate==="allplatform"&&this.selectedTime===0&&this.extraPremium},extraPremiumButtonText:function(){return this.selectedTime?"pricing.extra_premium":"pricing.buy_plan"},pleaseUpgradeNotExtend:function(){var i,s,l,h;return((i=this.currentService)===null||i===void 0?void 0:i.status)!=="off"||![2,5].includes((s=this.currentService)===null||s===void 0?void 0:s.plan_id)?!1:((l=this.currentService)===null||l===void 0||(h=l.extra)===null||h===void 0?void 0:h.buy_length)>1},balance:function(){var i;return(i=this.user)!==null&&i!==void 0&&i.money?this.user.balance_currency!=="eur"?this.user.money/this.$config.rmbToEurRate:this.user.money:0},requireBilling:function(){return this.selectedPaymentMethod.currency==="EUR"},billingComplete:function(){var i;return(i=this.user.billing)===null||i===void 0?void 0:i.country},showPaymentMethodSelector:function(){return this.mode==="topUp"||this.localFee>0}},Object(Y.b)({session:function(i){return i.session},isAdmin:function(i){return i.session.isAdmin},user:function(i){return i.user},serviceArray:function(i){return i.service},hasService:function(i){var s;return((s=Object.keys(i.service))===null||s===void 0?void 0:s.length)>0}})),watch:{selectedCate:function(i){this.selectedPlan={allplatform:4,home:6}[i],this.selectedTime=12},selectedTime:function(i){var s=this;if(console.log("===> selectedTime changed:",i),i===0?this.selectedPlan="pre":this.selectedPlan==="pre"&&(this.selectedPlan=null),!(i===0&&this.alreadyBought===null)&&this.purchaseType.type==="new_buy"&&this.askForTwoMonths)return this.$confirm(this.$t("".concat(this.purchaseType.warning,".content")),this.$t("".concat(this.purchaseType.warning,".title")),{customClass:"serious-alert",cancelButtonText:this.$t("".concat(this.purchaseType.warning,".cancelButtonText")),cancelButtonClass:"danger",confirmButtonText:this.$t("".concat(this.purchaseType.warning,".confirmButtonText")),confirmButtonClass:"primary",closeOnPressEscape:!1,closeOnClickModal:!1,type:"warning"}).then(function(){console.log("askForTwoMonths, then..."),s.selectedTime=2}).catch(function(){console.log("askForTwoMonths, catch")})},extraPremium:function(i){i>this.maxPreForCurrentMonth&&(this.extraPremium=this.maxPreForCurrentMonth)},selectedPlan:function(i){var s;this.selectedPlan===((s=this.currentService)===null||s===void 0?void 0:s.plan_id)&&this.pleaseUpgradeNotExtend&&console.log("\u8349")},"purchaseType.type":function(i){console.log("===> new purchase type: "+i)}},mounted:function(){var i,s,l;this.selectedCate&&this.$scrollTo("#plan",this.$config.scrollTo.delay,{offset:-200}),this.showPromo=((i=this.user)===null||i===void 0||(s=i.extra)===null||s===void 0?void 0:s.email_verified)||((l=this.user)===null||l===void 0?void 0:l.id)<1e3,this.promoCode&&this.checkPromoCode()},beforeDestroy:function(){this.paymentPoll&&clearInterval(this.paymentPoll),this.expireTimeout&&clearTimeout(this.expireTimeout)},methods:{popWarning:function(){return this.purchaseType.alert?this.$confirm(this.$t("".concat(this.purchaseType.warning,".content")),this.$t("".concat(this.purchaseType.warning,".title")),{customClass:"serious-alert",cancelButtonText:this.$t("".concat(this.purchaseType.warning,".cancelButtonText")),cancelButtonClass:"danger",confirmButtonText:this.$t("".concat(this.purchaseType.warning,".confirmButtonText")),confirmButtonClass:"primary",closeOnPressEscape:!1,closeOnClickModal:!1,type:"warning"}):null},switchDataOrPlan:function(){this.selectedTime=this.selectedTime?0:12,this.selectedPlan=this.selectedCate==="allplatform"?4:6},confirmPriceWithServer:function(i){return this.$store.dispatch("confirmPrice",{userId:this.user.id,opt:{dry_run:i,plan_id:this.extraPremiumDataMode?"pre":this.selectedPlan,promocode:this.promoCode,buy_length:this.extraPremiumDataMode?this.extraPremium:this.selectedTime,all_pre:this.allPre}})},afterSuccessPayment:function(){var i=this;return this.$alert(this.$t("billing.wait_for_payment.suc"),this.$t("billing.wait_for_payment.paid"),{confirmButtonText:this.$t("billing.confirm"),type:"success",closeOnHashChange:!0,closeOnPressEscape:!0,closeOnClickModal:!1,callback:function(){var s=Object($.a)(regeneratorRuntime.mark(function h(){return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return i.$notify({type:"success",title:i.$t("billing.wait_for_payment.suc")}),console.log("stop polling...."),i.paymentPoll&&clearInterval(i.paymentPoll),P.prev=3,P.next=6,i.reloadUserData({showMessage:!0});case 6:P.next=10;break;case 8:P.prev=8,P.t0=P.catch(3);case 10:case"end":return P.stop()}},h,null,[[3,8]])}));function l(){return s.apply(this,arguments)}return l}()}).catch(function(){})},pay:function(){var i=this;return Object($.a)(regeneratorRuntime.mark(function s(){var l,h,w,P,C,E,M,U,J;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!i.requireBilling){y.next=3;break}if((l=i.user.billing)!==null&&l!==void 0&&l.country){y.next=3;break}return y.abrupt("return",i.showBillingEditor=!0);case 3:if(i.mode!=="topUp"){y.next=5;break}return y.abrupt("return",i.invokePayment());case 5:if(i.agreedToAll){y.next=15;break}return y.prev=6,y.next=9,i.$confirm(i.$t("pricing.agreements.please_agree.content"),i.$t("pricing.agreements.please_agree.title"),{confirmButtonText:i.$t("confirm"),cancelButtonText:i.$t("cancel"),type:"info"});case 9:i.agreeAllTrigger=!i.agreeAllTrigger,y.next=15;break;case 12:return y.prev=12,y.t0=y.catch(6),y.abrupt("return",i.$notify({type:"warning",title:i.$t("pricing.agreements.not_met")}));case 15:if(!i.purchaseType.alert){y.next=34;break}return y.prev=16,y.next=19,i.popWarning();case 19:if(i.purchaseType.warning!=="buy_two_months"){y.next=23;break}i.selectedTime=2,y.next=29;break;case 23:if(i.purchaseType.warning!=="please_upgrade_not_extend"){y.next=27;break}i.selectedCate==="allplatform"?i.selectedPlan=4:i.selectedPlan=6,y.next=29;break;case 27:if(i.purchaseType.warning!=="downgrade"){y.next=29;break}return y.abrupt("return");case 29:y.next=34;break;case 31:y.prev=31,y.t1=y.catch(16),console.log("alright. whatever.");case 34:return y.prev=34,i.confirming=!0,y.next=38,i.confirmPriceWithServer(!0);case 38:h=y.sent,console.log("oriConfirmedInfo is:",h),h.ori_rmb_amount=h.rmb_amount,h.ori_eur_amount=h.eur_amount,w=(h.eur_amount*100-i.balance*100)/100,w>0&&w<1&&(w=1),h.eur_amount=w,h.all_pre=h.all_pre||!1,i.confirmedInfo=h,i.confirming=!1,y.next=57;break;case 50:if(y.prev=50,y.t2=y.catch(34),i.confirming=!1,console.log("1. going to alert!!!",y.t2),((P=y.t2.data)===null||P===void 0?void 0:P.message)!=="invalidPromo"){y.next=56;break}return y.abrupt("return",i.$alert(i.$t("invalid_promo"),((E=y.t2.data)===null||E===void 0?void 0:E.message)||y.t2.data,{confirmButtonText:i.$t("ok")}).catch(function(){}));case 56:return y.abrupt("return",i.$alert(((C=y.t2.data)===null||C===void 0?void 0:C.message)||y.t2.data).catch(function(){}));case 57:if(console.log("this.balance is",i.balance),console.log("this.confirmedInfo",i.confirmedInfo),!(i.confirmedInfo.user_balance>=i.confirmedInfo.fee)){y.next=72;break}return y.prev=60,y.next=63,i.confirmPriceWithServer(!1);case 63:return y.abrupt("return",i.afterSuccessPayment());case 66:if(y.prev=66,y.t3=y.catch(60),console.log("2. going to alert!!!",y.t3),!((M=y.t3.data)!==null&&M!==void 0&&(U=M.message)!==null&&U!==void 0&&U.startsWith("moneyNotEnough"))){y.next=71;break}return y.abrupt("return",i.invokePayment());case 71:i.$alert(((J=y.t3.data)===null||J===void 0?void 0:J.message)||y.t3.data||y.t3,{confirmButtonText:i.$t("ok")}).catch(function(){});case 72:return y.abrupt("return",i.invokePayment());case 73:case"end":return y.stop()}},s,null,[[6,12],[16,31],[34,50],[60,66]])}))()},invokePayment:function(){switch(this.trackEvents(),this.selectedPaymentMethod.name){case"alipay_pc":return this.pingppCheckout("alipay_pc_direct");case"alipay_mobile":return this.pingppCheckout("alipay_wap");case"yaband_wechat":return this.yabandPay("Wechat");case"yaband_alipay":return this.yabandPay("Alipay");case"stripe_card":return this.stripeCheckout("card",{projectName:"PandaFan"});case"stripe_alipay":return this.stripeCheckout("Alipay",{projectName:"PandaFan"});case"stripe_wechat":return this.stripeCheckout("Wechat",{projectName:"PandaFan"});case"stripe_ideal":return this.stripeCheckout("iDEAL",{projectName:"PandaFan"});case"stripe_pandapro_card":return this.stripeCheckout("card",{projectName:"PandaPro"});case"paypal":return this.paypalCheckout("paypal");case"paymentwall":return this.paymentwallCheckout();case"paymentwall_cc":return this.paymentwallCheckout("cc")}},paymentwallCheckout:function(i){var s=this;console.log("paymentwallCheckout:",i),this.confirming=!0,this.showCurrencyWarning=!1;var l=this;this.currency="eur";var h={ps:i||"unionpay"};if(this.mode==="buyService")h=O(O({},h),{},{amount:l.confirmedInfo.eur_amount,eur:l.confirmedInfo.eur_amount,auto_buy:l.confirmedInfo.user_req.plan_id,auto_buy_month:Number(l.confirmedInfo.buy_length),auto_buy_promo:l.confirmedInfo.user_req.promocode,all_pre:l.confirmedInfo.user_req.all_pre});else if(this.mode==="topUp"){var w=this.calcTopupFee();h=O(O({},h),{},{amount:w,eur:w})}this.showCurrencyWarning=!0,this.$store.dispatch("createPaymentwall",h).then(function(P){console.log(P),s.openSite(P.directLink||P.redirect);var C={channel:"paymentwall",id:P.id,alternativeLink:P.redirect||null};l.waitForPayment(!1,C)}).catch(this.paymentError).finally(function(){l.confirming=!1})},paypalCheckout:function(i){var s=this;console.log("paypalCheckout:",i),this.confirming=!0,this.showCurrencyWarning=!1;var l=this;this.currency="eur";var h;if(this.mode==="buyService")h={amount:l.confirmedInfo.eur_amount,eur:l.confirmedInfo.eur_amount,auto_buy:l.confirmedInfo.user_req.plan_id,auto_buy_month:Number(l.confirmedInfo.buy_length),auto_buy_promo:l.confirmedInfo.user_req.promocode,all_pre:l.confirmedInfo.user_req.all_pre};else if(this.mode==="topUp"){var w=this.calcTopupFee();h={amount:w,eur:w}}this.$store.dispatch("createPaypal",h).then(function(P){s.openSite(P.redirect);var C={channel:"paypal",id:P.orderID};l.waitForPayment(!1,C)}).catch(this.paymentError).finally(function(){l.confirming=!1})},stripeCheckout:function(i,s){var l=this,h=s.projectName,w=h===void 0?"PandaFan":h;console.log("stripeCheckout:",i),this.confirming=!0,this.showCurrencyWarning=!1;var P=this;if(this.currency="eur",["card","iDEAL"].includes(i))return this.payWithCard(i,{projectName:w});var C={projectName:w};if(this.mode==="buyService")C=O(O({},C),{},{amount:P.confirmedInfo.eur_amount,eur:P.confirmedInfo.eur_amount,auto_buy:P.confirmedInfo.user_req.plan_id,auto_buy_month:Number(P.confirmedInfo.buy_length),auto_buy_promo:P.confirmedInfo.user_req.promocode,all_pre:P.confirmedInfo.user_req.all_pre});else if(this.mode==="topUp"){var E=this.calcTopupFee();C=O(O({},C),{},{amount:E,eur:E})}this.showCurrencyWarning=!0,this.$store.dispatch("createStripe"+i,C).then(function(M){M.qr_code_url?(P.confirmedInfo.qr_url=M.qr_code_url,P.showQr=!0):l.openSite(M.url);var U={channel:"stripe_".concat(i).toLowerCase(),id:M.source_id};P.waitForPayment(M.qr_code_url,U)}).catch(this.paymentError).finally(function(){P.confirming=!1})},handleCharge:function(i){var s="https://mapi.alipay.com/gateway.do",l={}.hasOwnProperty,h=i.channel,w=i.credential[h],P=s;l.call(w,"channel_url")&&(P=w.channel_url),l.call(w,"_input_charset")||l.call(w,"service")&&w.service==="create_direct_pay_by_user"&&(w._input_charset="utf-8");var C=this.$utils.stringifyData(w,h,!0);return P+"?"+C},pingppCheckout:function(i){var s=this;return Object($.a)(regeneratorRuntime.mark(function l(){var h,w,P,C;return regeneratorRuntime.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return s.confirming=!0,s.showCurrencyWarning=!1,s.currency="rmb",s.mode==="buyService"?h={money:s.confirmedInfo.rmb_amount,rmb_amount:s.confirmedInfo.rmb_amount,amount:s.confirmedInfo.rmb_amount,auto_buy:s.confirmedInfo.user_req.plan_id,auto_buy_month:Number(s.confirmedInfo.buy_length),auto_buy_promo:s.confirmedInfo.user_req.promo_code,all_pre:s.confirmedInfo.user_req.all_pre,channel:i}:s.mode==="topUp"&&(w=s.calcTopupFee(),h={channel:i,money:s.$utils.eurToRmb(w),amount:s.$utils.eurToRmb(w)}),M.prev=4,M.next=7,s.$store.dispatch("pingppCheckout",h);case 7:P=M.sent,["alipay_pc_direct","alipay_wap"].includes(i)?s.openSite(s.handleCharge(P)):s.confirmedInfo.qr_url=P.credential.alipay_qr,C={channel:"pingxx",id:P.id},s.waitForPayment(i==="alipay_qr",C),M.next=16;break;case 13:M.prev=13,M.t0=M.catch(4),s.paymentError(M.t0);case 16:s.confirming=!1;case 17:case"end":return M.stop()}},l,null,[[4,13]])}))()},logout:function(){var i=this;this.$confirm(this.$t("settings_page.logout.warning.content"),this.$t("settings_page.logout.warning.title"),{confirmButtonText:this.$t("settings_page.logout.warning.title"),cancelButtonText:this.$t("service_selector.cancel"),type:"warning"}).then(function(){i.$store.dispatch("session/logout"),i.$notify({type:"success",title:i.$t("settings_page.logout.suc"),position:"top-right"}),window.location.reload()},function(){})},checkPaymentStatus:function(i){var s=this;this.$axios.get("".concat(i.channel,"/").concat(i.id)).then(function(l){var h=["TRADE_FINISHED","complete","completed"];if(h.includes(l.data))return clearInterval(s.paymentPoll),s.waitForPaymentConfirm&&B.a.close(),s.afterSuccessPayment()}).catch(function(l){console.log(l)})},waitForPayment:function(i,s){var l=this,h=this.$t("billing.wait_for_payment.title"),w=this.$t("billing.wait_for_payment.msg");this.paymentPoll&&clearInterval(this.paymentPoll),this.paymentPoll=setInterval(function(){l.checkPaymentStatus(s)},10*1e3);var P=15*60;if(s.time_expire&&(P=s.time_expire*1e3-new Date),this.expireTimeout&&clearTimeout(this.expireTimeout),this.expireTimeout=setTimeout(function(){l.expired=!0,l.paymentPoll&&clearInterval(l.paymentPoll),l.$alert(l.$t("billing.wait_for_payment.timeout.msg"),l.$t("billing.wait_for_payment.timeout.title"),{type:"success",confirmButtonText:l.$t("billing.wait_for_payment.confirm"),callback:function(U){}}).catch(function(){})},P*1e3),!i){var C=w;if(s.alternativeLink){var E=this.$createElement;C=E("p",null,[E("span",null,w),E("br"),E("a",{style:"color: var(--alizarin)"},this.$t("billing.do_not_scan_qr.a"))])}this.waitForPaymentConfirm=this.$confirm(C,h,{confirmButtonText:this.$t("billing.wait_for_payment.paid"),cancelButtonText:this.$t("billing.wait_for_payment.cancel"),type:"success",closeOnHashChange:!0,closeOnPressEscape:!0,closeOnClickModal:!1}).then(function(){l.checkPaymentStatus(s),l.$notify({type:"success",title:l.$t("billing.wait_for_payment.waiting")})}).catch(function(){console.log("stop polling...."),l.paymentPoll&&clearInterval(l.paymentPoll)})}},payWithCard:function(i,s){var l=this;return Object($.a)(regeneratorRuntime.mark(function h(){var w,P,C,E,M,U;return regeneratorRuntime.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return w=s.projectName,P=w===void 0?"PandaFan":w,console.log("use stripe checkout:",i),l.confirming=!0,C={projectName:P},l.mode==="buyService"?C=O(O({},C),{},{amount:l.confirmedInfo.eur_amount,eur:l.confirmedInfo.eur_amount,auto_buy:l.confirmedInfo.user_req.plan_id,auto_buy_month:Number(l.confirmedInfo.buy_length),auto_buy_promo:l.confirmedInfo.user_req.promocode,all_pre:l.confirmedInfo.user_req.all_pre,channel:i}):l.mode==="topUp"&&(E=l.calcTopupFee(),C=O(O({},C),{},{eur:E,amount:E,channel:i})),Z.next=7,l.$store.dispatch("createStripeCheckoutSession",C);case 7:M=Z.sent,console.log("ret is",M),l.confirming=!1,l.openSite(M.url),U={channel:"stripe_card",id:M.id},l.waitForPayment(!1,U);case 13:case"end":return Z.stop()}},h)}))()},yabandPay:function(i){i=i.toLowerCase(),this.confirming=!0,this.showCurrencyWarning=!1;var s=this;this.currency="eur";var l;if(this.mode==="buyService")l={eur:s.confirmedInfo.eur_amount,amount:s.confirmedInfo.eur_amount,auto_buy:s.confirmedInfo.user_req.plan_id,auto_buy_month:Number(s.confirmedInfo.buy_length),auto_buy_promo:s.confirmedInfo.user_req.promocode,all_pre:s.confirmedInfo.user_req.all_pre};else if(this.mode==="topUp"){var h=this.calcTopupFee();l={amount:h,eur:h}}this.showCurrencyWarning=!0,this.$store.dispatch("createYaband",{channel:i,opt:l}).then(function(w){var P=w.url;s.confirmedInfo.qr_url=P,s.showQr=!0;var C={channel:"yaband",id:w.trade_id};s.waitForPayment(P,C)}).catch(this.paymentError).finally(function(){s.confirming=!1})},paymentError:function(i){var s,l,h;console.log(i);var w=((s=i.response)===null||s===void 0||(l=s.data)===null||l===void 0?void 0:l.message)||((h=i.response)===null||h===void 0?void 0:h.data);this.$notify({type:"error",title:i.status>=500?this.$t("server_error"):this.$t("errors.".concat(w,".title")),message:this.$t("errors.".concat(w,".message"))})},calcTopupFee:function(){var i=Number(this.topUpAmount);return i<1?1:i},trackEvents:function(){!this.$ga||(this.$ga.event("UserActions","createPayment-".concat(this.mode),"paymentMethod",this.selectedPaymentMethod.name),this.mode==="buyService"?(this.$ga.event("UserActions","placeOrder","cate",this.selectedCate),this.selectedTime>0?(this.$ga.event("UserActions","placeOrder","planId",this.selectedPlan),this.$ga.event("UserActions","placeOrder","buyLength",this.selectedTime)):(this.$ga.event("UserActions","placeOrder","planId","extraPremiumData"),this.$ga.event("UserActions","placeOrder","premiumDataAmount",this.extraPremium))):(this.$ga.event("UserActions","placeOrder","cate","topUp"),this.$ga.event("UserActions","placeOrder","topUpAmount",this.calcTopupFee())))},upgradePlan:function(){this.selectedPlan=4,this.selectedTime=1},showBilling:function(){this.showBillingEditor=!0,this.$scrollTo("#billing",this.$config.scrollTo.delay,{offset:-200})}}},L=A,H=t(1298),q=t(1300),Q=t(51),V=Object(Q.a)(L,r,d,!1,null,"9f0527fe",null),X=v.default=V.exports;installComponents(V,{PricingPageTopUp:t(1287).default,PricingPageCateOptions:t(1286).default,PricingPageTimeOptions:t(1288).default,PricingPagePlanOptions:t(1289).default,PricingPagePremiumData:t(1290).default,PricingPagePaymentOptions:t(1468).default,PricingPageAgreements:t(1291).default,PricingPageFeeBreakdown:t(1469).default,BillingModal:t(1150).default})}}]);
